import { Observable } from 'rxjs';
import type { LoggedInUser, SessionLocation, Privilege, Role, Session } from './types';
export type SessionStore = LoadedSessionStore | UnloadedSessionStore;
export type LoadedSessionStore = {
    loaded: true;
    session: Session;
};
export type UnloadedSessionStore = {
    loaded: false;
    session: null;
};
/** @internal */
export declare const sessionStore: import("zustand").StoreApi<SessionStore>;
/**
 * The getCurrentUser function returns an observable that produces
 * **zero or more values, over time**. It will produce zero values
 * by default if the user is not logged in. And it will provide a
 * first value when the logged in user is fetched from the server.
 * Subsequent values will be produced whenever the user object is
 * updated.
 *
 * @param opts An object with `includeAuthStatus` boolean
 *   property that defaults to `false`. When `includeAuthStatus` is set
 *   to `true`, the entire response object from the API will be provided.
 *   When `includeAuthStatus` is set to `false`, only the `user` property
 *   of the response object will be provided.
 *
 * @returns An Observable that produces zero or more values (as
 *   described above). The values produced will be a user object (if
 *   `includeAuthStatus` is set to `false`) or an object with a session
 *   and authenticated property (if `includeAuthStatus` is set to `true`).
 *
 * #### Example
 *
 * ```js
 * import { getCurrentUser } from '@openmrs/esm-api'
 * const subscription = getCurrentUser().subscribe(
 *   user => console.log(user)
 * )
 * subscription.unsubscribe()
 * getCurrentUser({includeAuthStatus: true}).subscribe(
 *   data => console.log(data.authenticated)
 * )
 * ```
 *
 * #### Be sure to unsubscribe when your component unmounts
 *
 * Otherwise your code will continue getting updates to the user object
 * even after the UI component is gone from the screen. This is a memory
 * leak and source of bugs.
 */
declare function getCurrentUser(): Observable<Session>;
declare function getCurrentUser(opts: {
    includeAuthStatus: true;
}): Observable<Session>;
declare function getCurrentUser(opts: {
    includeAuthStatus: false;
}): Observable<LoggedInUser>;
export { getCurrentUser };
export declare function getSessionStore(): import("zustand").StoreApi<SessionStore>;
export declare function setUserLanguage(data: Session): void;
/**
 * The `refetchCurrentUser` function causes a network request to redownload
 * the user. All subscribers to the current user will be notified of the
 * new users once the new version of the user object is downloaded.
 *
 * @returns The same observable as returned by [[getCurrentUser]].
 *
 * #### Example
 * ```js
 * import { refetchCurrentUser } from '@openmrs/esm-api'
 * refetchCurrentUser()
 * ```
 */
export declare function refetchCurrentUser(username?: string, password?: string): Promise<SessionStore>;
export declare function clearCurrentUser(): void;
export declare function userHasAccess(requiredPrivilege: string | Array<string>, user: {
    privileges: Array<Privilege>;
    roles: Array<Role>;
}): boolean;
export declare function getLoggedInUser(): Promise<LoggedInUser>;
export declare function getSessionLocation(): Promise<SessionLocation | undefined>;
export declare function setSessionLocation(locationUuid: string, abortController: AbortController): Promise<any>;
export declare function setUserProperties(userUuid: string, userProperties: {
    [x: string]: string;
}, abortController?: AbortController): Promise<SessionStore>;
//# sourceMappingURL=current-user.d.ts.map