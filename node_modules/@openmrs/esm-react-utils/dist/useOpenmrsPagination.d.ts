/** @module @category UI */
import { type FetchResponse } from '@openmrs/esm-api';
import { type SWRConfiguration } from 'swr';
export interface OpenMRSPaginatedResponse<T> {
    results: Array<T>;
    links: Array<{
        rel: 'prev' | 'next';
        uri: string;
    }>;
    totalCount: number;
}
export interface UseServerPaginationOptions<R> {
    /**
     * Whether to use useSWR or useSWRInfinite to fetch data
     */
    immutable?: boolean;
    /**
     * The fetcher to use. Defaults to openmrsFetch
     */
    fetcher?: (key: string) => Promise<FetchResponse<R>>;
    /**
     * The configuration object for useSWR or useSWRInfinite
     */
    swrConfig?: SWRConfiguration;
}
/**
 * Most OpenMRS REST endpoints that return a list of objects, such as getAll or search, are server-side paginated.
 * The server limits the max number of results being returned, and multiple requests are needed to get the full data set
 * if its size exceeds this limit.
 * The max number of results per request is configurable server-side
 * with the key "webservices.rest.maxResultsDefault". See: https://openmrs.atlassian.net/wiki/spaces/docs/pages/25469882/REST+Module
 *
 * For any UI that displays a paginated view of the full data set, we MUST handle the server-side pagination properly,
 * or else the UI does not correctly display the full data set.
 * This hook does that by providing callback functions for navigating to different pages of the results, and
 * lazy-loads the data on each page as needed.
 *
 * Note that this hook is not suitable for use for situations that require client-side sorting or filtering
 * of the data set. In that case, all data must be loaded onto client-side first.
 *
 * @see `useOpenmrsInfinite`
 * @see `useOpenmrsFetchAll`
 * @see `usePagination` for pagination of client-side data`
 * @see `useFhirPagination``
 *
 * @param url The URL of the paginated rest endpoint. \
 *            It should be populated with any needed GET params, except `limit`, `startIndex` or `totalCount`,
 *            which will be overridden and manipulated by the `goTo*` callbacks.
 *            Similar to useSWR, this param can be null to disable fetching.
 * @param pageSize The number of results to return per page / fetch. Note that this value MUST NOT exceed
 *            "webservices.rest.maxResultsAbsolute", which should be reasonably high by default (1000).
 * @param options The options object
 * @returns
 */
export declare function useOpenmrsPagination<T>(url: string | URL, pageSize: number, options?: UseServerPaginationOptions<OpenMRSPaginatedResponse<T>>): {
    error: any;
    mutate: import("swr").KeyedMutator<FetchResponse<OpenMRSPaginatedResponse<T>>>;
    isValidating: boolean;
    isLoading: boolean;
    data: T[] | undefined;
    totalPages: number;
    totalCount: number;
    currentPage: number;
    currentPageSize: import("react").MutableRefObject<number>;
    paginated: boolean;
    showNextButton: boolean;
    showPreviousButton: boolean;
    goTo: (page: number) => void;
    goToNext: () => void;
    goToPrevious: () => void;
};
type OpenmrsServerPaginationHandlers<T> = ServerPaginationHandlers<T, OpenMRSPaginatedResponse<T>>;
export declare const openmrsServerPaginationHandlers: OpenmrsServerPaginationHandlers<any>;
export interface ServerPaginationHandlers<T, R> {
    getPaginatedUrl: (url: string | URL, limit: number, startIndex: number) => string | null;
    getNextUrl: (response: R | undefined) => string | null;
    getTotalCount: (response: R | undefined) => number;
    getCurrentPageSize: (response: R | undefined) => number;
    getData: (response: R | undefined) => Array<T> | undefined;
}
export declare function useServerPagination<T, R>(url: string | URL, pageSize: number, serverPaginationHandlers: ServerPaginationHandlers<T, R>, options?: UseServerPaginationOptions<R>): {
    error: any;
    mutate: import("swr").KeyedMutator<FetchResponse<R>>;
    isValidating: boolean;
    isLoading: boolean;
    data: T[] | undefined;
    totalPages: number;
    totalCount: number;
    currentPage: number;
    currentPageSize: import("react").MutableRefObject<number>;
    paginated: boolean;
    showNextButton: boolean;
    showPreviousButton: boolean;
    goTo: (page: number) => void;
    goToNext: () => void;
    goToPrevious: () => void;
};
export {};
//# sourceMappingURL=useOpenmrsPagination.d.ts.map