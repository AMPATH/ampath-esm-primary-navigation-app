/** @module @category Navigation */ import React, { useEffect } from "react";
import { navigate, interpolateUrl } from "@openmrs/esm-navigation";
function handleClick(event, to, templateParams, onBeforeNavigate) {
    // Left click without modifiers (normal navigation)
    if (event.button === 0 && !event.ctrlKey && !event.shiftKey && !event.altKey && !event.metaKey) {
        event.preventDefault();
        onBeforeNavigate?.(event);
        navigate({
            to,
            templateParams
        });
    }
    // Left click with Ctrl key (or Cmd key on Mac) - Open in new tab
    if (event.button === 0 && (event.ctrlKey || event.metaKey)) {
        onBeforeNavigate?.(event);
    }
    // Left click with Shift key - Open in new window
    if (event.button === 0 && event.shiftKey) {
        onBeforeNavigate?.(event);
    }
    // Middle click - Open in new background tab
    if (event.button === 1) {
        onBeforeNavigate?.(event);
    }
}
/**
 * A React link component which calls [[navigate]] when clicked
 */ export function ConfigurableLink({ to, templateParams, onBeforeNavigate, children, ...otherProps }) {
    useEffect(()=>{
        if (otherProps.href) {
            console.warn(`ConfigurableLink does not support the href prop. Use the 'to' prop instead. The provided href value is '${otherProps.href}'`);
        }
        if (otherProps.onClick) {
            console.warn(`ConfigurableLink does not support the onClick prop. Use the 'onBeforeNavigate' prop instead. The 'to' prop of the offending link is ${to}`);
        }
    }, []);
    return /*#__PURE__*/ React.createElement("a", {
        onClick: (event)=>handleClick(event, to, templateParams, onBeforeNavigate),
        href: interpolateUrl(to, templateParams),
        ...otherProps
    }, children);
}
