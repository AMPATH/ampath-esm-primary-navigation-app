/**
 * Fires an OpenMRS custom event
 *
 * @param event The custom event to fire
 * @param payload The payload associated with this type of event
 * @returns true if the event was not cancelled and false, i.e., the result of `dispatchEvent()`
 */ export function fireOpenmrsEvent(event, payload) {
    const evt = new CustomEvent(`openmrs:${event}`, {
        detail: payload ?? undefined,
        cancelable: true,
        bubbles: true
    });
    return window.dispatchEvent(evt);
}
export function subscribeOpenmrsEvent(event, handler) {
    const internalHandler = (event)=>{
        const detail = 'detail' in event && event.detail !== null ? event.detail : undefined;
        handler(detail);
    };
    window.addEventListener(`openmrs:${event}`, internalHandler);
    return ()=>{
        window.removeEventListener(`openmrs:${event}`, internalHandler);
    };
}
