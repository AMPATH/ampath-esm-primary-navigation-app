/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_openmrs_esm_app_shell"] = self["webpackChunk_openmrs_esm_app_shell"] || []).push([["src_run_ts"],{

/***/ "../../framework/esm-translations/translations lazy recursive ^\\.\\/.*\\.json$":
/*!*******************************************************************************************!*\
  !*** ../../framework/esm-translations/translations/ lazy ^\.\/.*\.json$ namespace object ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./am.json": [
		"../../framework/esm-translations/translations/am.json",
		"framework_esm-translations_translations_am_json"
	],
	"./ar.json": [
		"../../framework/esm-translations/translations/ar.json",
		"framework_esm-translations_translations_ar_json"
	],
	"./ar_SY.json": [
		"../../framework/esm-translations/translations/ar_SY.json",
		"framework_esm-translations_translations_ar_SY_json"
	],
	"./bn.json": [
		"../../framework/esm-translations/translations/bn.json",
		"framework_esm-translations_translations_bn_json"
	],
	"./cs.json": [
		"../../framework/esm-translations/translations/cs.json",
		"framework_esm-translations_translations_cs_json"
	],
	"./de.json": [
		"../../framework/esm-translations/translations/de.json",
		"framework_esm-translations_translations_de_json"
	],
	"./en.json": [
		"../../framework/esm-translations/translations/en.json",
		"framework_esm-translations_translations_en_json"
	],
	"./en_US.json": [
		"../../framework/esm-translations/translations/en_US.json",
		"framework_esm-translations_translations_en_US_json"
	],
	"./es.json": [
		"../../framework/esm-translations/translations/es.json",
		"framework_esm-translations_translations_es_json"
	],
	"./es_MX.json": [
		"../../framework/esm-translations/translations/es_MX.json",
		"framework_esm-translations_translations_es_MX_json"
	],
	"./fr.json": [
		"../../framework/esm-translations/translations/fr.json",
		"framework_esm-translations_translations_fr_json"
	],
	"./he.json": [
		"../../framework/esm-translations/translations/he.json",
		"framework_esm-translations_translations_he_json"
	],
	"./hi.json": [
		"../../framework/esm-translations/translations/hi.json",
		"framework_esm-translations_translations_hi_json"
	],
	"./hi_IN.json": [
		"../../framework/esm-translations/translations/hi_IN.json",
		"framework_esm-translations_translations_hi_IN_json"
	],
	"./id.json": [
		"../../framework/esm-translations/translations/id.json",
		"framework_esm-translations_translations_id_json"
	],
	"./it.json": [
		"../../framework/esm-translations/translations/it.json",
		"framework_esm-translations_translations_it_json"
	],
	"./ka.json": [
		"../../framework/esm-translations/translations/ka.json",
		"framework_esm-translations_translations_ka_json"
	],
	"./km.json": [
		"../../framework/esm-translations/translations/km.json",
		"framework_esm-translations_translations_km_json"
	],
	"./ku.json": [
		"../../framework/esm-translations/translations/ku.json",
		"framework_esm-translations_translations_ku_json"
	],
	"./ky.json": [
		"../../framework/esm-translations/translations/ky.json",
		"framework_esm-translations_translations_ky_json"
	],
	"./lg.json": [
		"../../framework/esm-translations/translations/lg.json",
		"framework_esm-translations_translations_lg_json"
	],
	"./ne.json": [
		"../../framework/esm-translations/translations/ne.json",
		"framework_esm-translations_translations_ne_json"
	],
	"./pl.json": [
		"../../framework/esm-translations/translations/pl.json",
		"framework_esm-translations_translations_pl_json"
	],
	"./pt.json": [
		"../../framework/esm-translations/translations/pt.json",
		"framework_esm-translations_translations_pt_json"
	],
	"./pt_BR.json": [
		"../../framework/esm-translations/translations/pt_BR.json",
		"framework_esm-translations_translations_pt_BR_json"
	],
	"./qu.json": [
		"../../framework/esm-translations/translations/qu.json",
		"framework_esm-translations_translations_qu_json"
	],
	"./ro_RO.json": [
		"../../framework/esm-translations/translations/ro_RO.json",
		"framework_esm-translations_translations_ro_RO_json"
	],
	"./ru_RU.json": [
		"../../framework/esm-translations/translations/ru_RU.json",
		"framework_esm-translations_translations_ru_RU_json"
	],
	"./si.json": [
		"../../framework/esm-translations/translations/si.json",
		"framework_esm-translations_translations_si_json"
	],
	"./sq.json": [
		"../../framework/esm-translations/translations/sq.json",
		"framework_esm-translations_translations_sq_json"
	],
	"./sw.json": [
		"../../framework/esm-translations/translations/sw.json",
		"framework_esm-translations_translations_sw_json"
	],
	"./sw_KE.json": [
		"../../framework/esm-translations/translations/sw_KE.json",
		"framework_esm-translations_translations_sw_KE_json"
	],
	"./tr.json": [
		"../../framework/esm-translations/translations/tr.json",
		"framework_esm-translations_translations_tr_json"
	],
	"./tr_TR.json": [
		"../../framework/esm-translations/translations/tr_TR.json",
		"framework_esm-translations_translations_tr_TR_json"
	],
	"./uk.json": [
		"../../framework/esm-translations/translations/uk.json",
		"framework_esm-translations_translations_uk_json"
	],
	"./uz.json": [
		"../../framework/esm-translations/translations/uz.json",
		"framework_esm-translations_translations_uz_json"
	],
	"./uz@Latn.json": [
		"../../framework/esm-translations/translations/uz@Latn.json",
		"framework_esm-translations_translations_uz_Latn_json"
	],
	"./uz_UZ.json": [
		"../../framework/esm-translations/translations/uz_UZ.json",
		"framework_esm-translations_translations_uz_UZ_json"
	],
	"./vi.json": [
		"../../framework/esm-translations/translations/vi.json",
		"framework_esm-translations_translations_vi_json"
	],
	"./zh.json": [
		"../../framework/esm-translations/translations/zh.json",
		"framework_esm-translations_translations_zh_json"
	],
	"./zh_CN.json": [
		"../../framework/esm-translations/translations/zh_CN.json",
		"framework_esm-translations_translations_zh_CN_json"
	],
	"./zh_TW.json": [
		"../../framework/esm-translations/translations/zh_TW.json",
		"framework_esm-translations_translations_zh_TW_json"
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(() => {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return __webpack_require__.e(ids[1]).then(() => {
		return __webpack_require__.t(id, 3 | 16);
	});
}
webpackAsyncContext.keys = () => (Object.keys(map));
webpackAsyncContext.id = "../../framework/esm-translations/translations lazy recursive ^\\.\\/.*\\.json$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/core-config.ts":
/*!****************************!*\
  !*** ./src/core-config.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupCoreConfig: () => (/* binding */ setupCoreConfig)\n/* harmony export */ });\n/* harmony import */ var _openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openmrs/esm-framework */ \"webpack/sharing/consume/default/@openmrs/esm-framework/@openmrs/esm-framework\");\n/* harmony import */ var _openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openmrs/esm-framework/src/internal */ \"webpack/sharing/consume/default/@openmrs/esm-framework/src/internal/@openmrs/esm-framework/src/internal\");\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui */ \"./src/ui/index.ts\");\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _object_spread_props(target, source) {\n    source = source != null ? source : {};\n    if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n        ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n    return target;\n}\n\n\n\n/**\n * Sets up the app shell's configuration.\n */ function setupCoreConfig() {\n    (0,_openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__.defineConfigSchema)(_ui__WEBPACK_IMPORTED_MODULE_2__.appName, {\n        'Enabled feature flags': {\n            _description: 'The feature flags that will be enabled',\n            _type: _openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__.Type.Array,\n            _default: [],\n            _elements: {\n                _type: _openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__.Type.String\n            }\n        }\n    });\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.registerModuleLoad)(_ui__WEBPACK_IMPORTED_MODULE_2__.appName);\n    // process feature flags\n    (0,_openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__.getConfigStore)(_ui__WEBPACK_IMPORTED_MODULE_2__.appName).subscribe(function(param) {\n        var config = param.config;\n        var flagsToEnable = new Set((config === null || config === void 0 ? void 0 : config['Enabled feature flags']) || []);\n        if (flagsToEnable.size) {\n            var newFlags = _object_spread({}, _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.featureFlagsStore.getState().flags);\n            var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                for(var _iterator = flagsToEnable[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    var flag = _step.value;\n                    // validate the flag exists\n                    if (!newFlags[flag]) {\n                        console.error('Feature flag \"'.concat(flag, '\" does not exist. Please define the flag first.'));\n                    } else {\n                        newFlags[flag] = _object_spread_props(_object_spread({}, newFlags[flag]), {\n                            enabled: true\n                        });\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.featureFlagsStore.setState({\n                flags: newFlags\n            });\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29yZS1jb25maWcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFrRjtBQUNVO0FBQzdEO0FBRS9COztDQUVDLEdBQ00sU0FBU007SUFDZE4sMEVBQWtCQSxDQUFDSyx3Q0FBT0EsRUFBRTtRQUMxQix5QkFBeUI7WUFDdkJFLGNBQWM7WUFDZEMsT0FBT1Asd0RBQUlBLENBQUNRLEtBQUs7WUFDakJDLFVBQVUsRUFBRTtZQUNaQyxXQUFXO2dCQUNUSCxPQUFPUCx3REFBSUEsQ0FBQ1csTUFBTTtZQUNwQjtRQUNGO0lBQ0Y7SUFDQVQsdUZBQWtCQSxDQUFDRSx3Q0FBT0E7SUFFMUIsd0JBQXdCO0lBQ3hCSCxzRUFBY0EsQ0FBQ0csd0NBQU9BLEVBQUVRLFNBQVMsQ0FBQztZQUFHQyxlQUFBQTtRQUNuQyxJQUFNQyxnQkFBZ0IsSUFBSUMsSUFBSSxDQUFDRixtQkFBQUEsNkJBQUFBLE1BQVEsQ0FBQyx3QkFBd0IsS0FBc0IsRUFBRTtRQUN4RixJQUFJQyxjQUFjRSxJQUFJLEVBQUU7WUFDdEIsSUFBTUMsV0FBVyxtQkFBS2Qsa0ZBQWlCQSxDQUFDZSxRQUFRLEdBQUdDLEtBQUs7Z0JBQ25EOztnQkFBTCxRQUFLLFlBQWNMLGtDQUFkLHdHQUE2QjtvQkFBN0IsSUFBTU0sT0FBTjtvQkFDSCwyQkFBMkI7b0JBQzNCLElBQUksQ0FBQ0gsUUFBUSxDQUFDRyxLQUFLLEVBQUU7d0JBQ25CQyxRQUFRQyxLQUFLLENBQUMsaUJBQXNCLE9BQUxGLE1BQUs7b0JBQ3RDLE9BQU87d0JBQ0xILFFBQVEsQ0FBQ0csS0FBSyxHQUFHLHdDQUFLSCxRQUFRLENBQUNHLEtBQUs7NEJBQUVHLFNBQVM7O29CQUNqRDtnQkFDRjs7Z0JBUEs7Z0JBQUE7Ozt5QkFBQTt3QkFBQTs7O3dCQUFBOzhCQUFBOzs7O1lBU0xwQixrRkFBaUJBLENBQUNxQixRQUFRLENBQUM7Z0JBQUVMLE9BQU9GO1lBQVM7UUFDL0M7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG9wZW5tcnMvZXNtLWFwcC1zaGVsbC8uL3NyYy9jb3JlLWNvbmZpZy50cz81MmMzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlZmluZUNvbmZpZ1NjaGVtYSwgVHlwZSwgZ2V0Q29uZmlnU3RvcmUgfSBmcm9tICdAb3Blbm1ycy9lc20tZnJhbWV3b3JrJztcbmltcG9ydCB7IHJlZ2lzdGVyTW9kdWxlTG9hZCwgZmVhdHVyZUZsYWdzU3RvcmUgfSBmcm9tICdAb3Blbm1ycy9lc20tZnJhbWV3b3JrL3NyYy9pbnRlcm5hbCc7XG5pbXBvcnQgeyBhcHBOYW1lIH0gZnJvbSAnLi91aSc7XG5cbi8qKlxuICogU2V0cyB1cCB0aGUgYXBwIHNoZWxsJ3MgY29uZmlndXJhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwQ29yZUNvbmZpZygpIHtcbiAgZGVmaW5lQ29uZmlnU2NoZW1hKGFwcE5hbWUsIHtcbiAgICAnRW5hYmxlZCBmZWF0dXJlIGZsYWdzJzoge1xuICAgICAgX2Rlc2NyaXB0aW9uOiAnVGhlIGZlYXR1cmUgZmxhZ3MgdGhhdCB3aWxsIGJlIGVuYWJsZWQnLFxuICAgICAgX3R5cGU6IFR5cGUuQXJyYXksXG4gICAgICBfZGVmYXVsdDogW10sXG4gICAgICBfZWxlbWVudHM6IHtcbiAgICAgICAgX3R5cGU6IFR5cGUuU3RyaW5nLFxuICAgICAgfSxcbiAgICB9LFxuICB9KTtcbiAgcmVnaXN0ZXJNb2R1bGVMb2FkKGFwcE5hbWUpO1xuXG4gIC8vIHByb2Nlc3MgZmVhdHVyZSBmbGFnc1xuICBnZXRDb25maWdTdG9yZShhcHBOYW1lKS5zdWJzY3JpYmUoKHsgY29uZmlnIH0pID0+IHtcbiAgICBjb25zdCBmbGFnc1RvRW5hYmxlID0gbmV3IFNldCgoY29uZmlnPy5bJ0VuYWJsZWQgZmVhdHVyZSBmbGFncyddIGFzIEFycmF5PHN0cmluZz4pIHx8IFtdKTtcbiAgICBpZiAoZmxhZ3NUb0VuYWJsZS5zaXplKSB7XG4gICAgICBjb25zdCBuZXdGbGFncyA9IHsgLi4uZmVhdHVyZUZsYWdzU3RvcmUuZ2V0U3RhdGUoKS5mbGFncyB9O1xuICAgICAgZm9yIChjb25zdCBmbGFnIG9mIGZsYWdzVG9FbmFibGUpIHtcbiAgICAgICAgLy8gdmFsaWRhdGUgdGhlIGZsYWcgZXhpc3RzXG4gICAgICAgIGlmICghbmV3RmxhZ3NbZmxhZ10pIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBGZWF0dXJlIGZsYWcgXCIke2ZsYWd9XCIgZG9lcyBub3QgZXhpc3QuIFBsZWFzZSBkZWZpbmUgdGhlIGZsYWcgZmlyc3QuYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3RmxhZ3NbZmxhZ10gPSB7IC4uLm5ld0ZsYWdzW2ZsYWddLCBlbmFibGVkOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZmVhdHVyZUZsYWdzU3RvcmUuc2V0U3RhdGUoeyBmbGFnczogbmV3RmxhZ3MgfSk7XG4gICAgfVxuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJkZWZpbmVDb25maWdTY2hlbWEiLCJUeXBlIiwiZ2V0Q29uZmlnU3RvcmUiLCJyZWdpc3Rlck1vZHVsZUxvYWQiLCJmZWF0dXJlRmxhZ3NTdG9yZSIsImFwcE5hbWUiLCJzZXR1cENvcmVDb25maWciLCJfZGVzY3JpcHRpb24iLCJfdHlwZSIsIkFycmF5IiwiX2RlZmF1bHQiLCJfZWxlbWVudHMiLCJTdHJpbmciLCJzdWJzY3JpYmUiLCJjb25maWciLCJmbGFnc1RvRW5hYmxlIiwiU2V0Iiwic2l6ZSIsIm5ld0ZsYWdzIiwiZ2V0U3RhdGUiLCJmbGFncyIsImZsYWciLCJjb25zb2xlIiwiZXJyb3IiLCJlbmFibGVkIiwic2V0U3RhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/core-config.ts\n");

/***/ }),

/***/ "./src/events.ts":
/*!***********************!*\
  !*** ./src/events.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openmrs/esm-framework/src/internal */ \"webpack/sharing/consume/default/@openmrs/esm-framework/src/internal/@openmrs/esm-framework/src/internal\");\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _optionaldeps__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./optionaldeps */ \"./src/optionaldeps.ts\");\n\n\n(0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__.subscribeOpenmrsEvent)('started', function() {\n    return (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__.cleanupObsoleteFeatureFlags)();\n});\n(0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__.subscribeOpenmrsEvent)('started', function() {\n    var subscription = (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__.getCurrentUser)().subscribe(function(session) {\n        if (session.authenticated) {\n            subscription === null || subscription === void 0 ? void 0 : subscription.unsubscribe();\n            (0,_optionaldeps__WEBPACK_IMPORTED_MODULE_1__.setupOptionalDependencies)();\n        }\n    });\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZXZlbnRzLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFJNkM7QUFDYztBQUUzREUsMEZBQXFCQSxDQUFDLFdBQVc7V0FBTUYsZ0dBQTJCQTs7QUFDbEVFLDBGQUFxQkEsQ0FBQyxXQUFXO0lBQy9CLElBQU1FLGVBQWVILG1GQUFjQSxHQUFHSSxTQUFTLENBQUMsU0FBQ0M7UUFDL0MsSUFBSUEsUUFBUUMsYUFBYSxFQUFFO1lBQ3pCSCx5QkFBQUEsbUNBQUFBLGFBQWNJLFdBQVc7WUFDekJMLHdFQUF5QkE7UUFDM0I7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG9wZW5tcnMvZXNtLWFwcC1zaGVsbC8uL3NyYy9ldmVudHMudHM/ZTMyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBjbGVhbnVwT2Jzb2xldGVGZWF0dXJlRmxhZ3MsXG4gIGdldEN1cnJlbnRVc2VyLFxuICBzdWJzY3JpYmVPcGVubXJzRXZlbnQsXG59IGZyb20gJ0BvcGVubXJzL2VzbS1mcmFtZXdvcmsvc3JjL2ludGVybmFsJztcbmltcG9ydCB7IHNldHVwT3B0aW9uYWxEZXBlbmRlbmNpZXMgfSBmcm9tICcuL29wdGlvbmFsZGVwcyc7XG5cbnN1YnNjcmliZU9wZW5tcnNFdmVudCgnc3RhcnRlZCcsICgpID0+IGNsZWFudXBPYnNvbGV0ZUZlYXR1cmVGbGFncygpKTtcbnN1YnNjcmliZU9wZW5tcnNFdmVudCgnc3RhcnRlZCcsICgpID0+IHtcbiAgY29uc3Qgc3Vic2NyaXB0aW9uID0gZ2V0Q3VycmVudFVzZXIoKS5zdWJzY3JpYmUoKHNlc3Npb24pID0+IHtcbiAgICBpZiAoc2Vzc2lvbi5hdXRoZW50aWNhdGVkKSB7XG4gICAgICBzdWJzY3JpcHRpb24/LnVuc3Vic2NyaWJlKCk7XG4gICAgICBzZXR1cE9wdGlvbmFsRGVwZW5kZW5jaWVzKCk7XG4gICAgfVxuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImNsZWFudXBPYnNvbGV0ZUZlYXR1cmVGbGFncyIsImdldEN1cnJlbnRVc2VyIiwic3Vic2NyaWJlT3Blbm1yc0V2ZW50Iiwic2V0dXBPcHRpb25hbERlcGVuZGVuY2llcyIsInN1YnNjcmlwdGlvbiIsInN1YnNjcmliZSIsInNlc3Npb24iLCJhdXRoZW50aWNhdGVkIiwidW5zdWJzY3JpYmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/events.ts\n");

/***/ }),

/***/ "./src/locale.ts":
/*!***********************!*\
  !*** ./src/locale.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupI18n: () => (/* binding */ setupI18n)\n/* harmony export */ });\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18next */ \"webpack/sharing/consume/default/i18next/i18next\");\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(i18next__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18next_browser_languagedetector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18next-browser-languagedetector */ \"../../../node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-i18next */ \"webpack/sharing/consume/default/react-i18next/react-i18next\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash-es */ \"../../../node_modules/lodash-es/merge.js\");\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @openmrs/esm-framework/src/internal */ \"webpack/sharing/consume/default/@openmrs/esm-framework/src/internal/@openmrs/esm-framework/src/internal\");\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_3__);\nfunction _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction _array_without_holes(arr) {\n    if (Array.isArray(arr)) return _array_like_to_array(arr);\n}\nfunction _instanceof(left, right) {\n    if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n        return !!right[Symbol.hasInstance](left);\n    } else {\n        return left instanceof right;\n    }\n}\nfunction _iterable_to_array(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction _non_iterable_rest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _non_iterable_spread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _sliced_to_array(arr, i) {\n    return _array_with_holes(arr) || _iterable_to_array_limit(arr, i) || _unsupported_iterable_to_array(arr, i) || _non_iterable_rest();\n}\nfunction _to_consumable_array(arr) {\n    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();\n}\nfunction _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\n\n\n\n\n\n(0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_3__.registerTranslationNamespace)('core');\nfunction setupI18n() {\n    var i18n = window.i18next = (i18next__WEBPACK_IMPORTED_MODULE_0___default()) || i18next__WEBPACK_IMPORTED_MODULE_0__;\n    var languageChangeObserver = new MutationObserver(function() {\n        i18n.changeLanguage().catch(function(e) {\n            return console.error('i18next failed to re-detect language', e);\n        });\n    });\n    languageChangeObserver.observe(document.documentElement, {\n        attributeFilter: [\n            'lang'\n        ],\n        attributes: true\n    });\n    i18n.on('languageChanged', function() {\n        document.documentElement.setAttribute('dir', i18n.dir());\n    });\n    return i18n.use(i18next_browser_languagedetector__WEBPACK_IMPORTED_MODULE_1__[\"default\"]).use({\n        type: 'backend',\n        init: function init() {},\n        read: function read(language, namespace, callback) {\n            if (namespace === 'translation') {\n                callback(Error(\"can't handle translation namespace\"), null);\n            } else if (namespace === undefined || language === undefined) {\n                callback(Error(), null);\n            } else if (namespace === 'core') {\n                Promise.all([\n                    __webpack_require__(\"../../framework/esm-translations/translations lazy recursive ^\\\\.\\\\/.*\\\\.json$\")(\"./\".concat(language, \".json\")),\n                    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_3__.getTranslationOverrides)(namespace)\n                ]).then(function(param) {\n                    var _param = _sliced_to_array(param, 2), json = _param[0], _param_ = _sliced_to_array(_param[1], 1), overrides = _param_[0];\n                    var _json_default;\n                    var translations = (_json_default = json === null || json === void 0 ? void 0 : json.default) !== null && _json_default !== void 0 ? _json_default : {};\n                    if (language in overrides) {\n                        translations = (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(translations, overrides[language]);\n                    }\n                    callback(null, translations);\n                }).catch(function(err) {\n                    callback(err, null);\n                });\n            } else {\n                var _namespace_split = _sliced_to_array(namespace.split('___'), 3), ns = _namespace_split[0], slotName = _namespace_split[1], extensionId = _namespace_split[2];\n                (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_3__.importDynamic)(ns).then(function(module) {\n                    return Promise.all([\n                        getImportPromise(module, ns, language),\n                        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_3__.getTranslationOverrides)(ns, slotName, extensionId)\n                    ]);\n                }).then(function(param) {\n                    var _param = _sliced_to_array(param, 2), json = _param[0], overrides = _param[1];\n                    var translations = json !== null && json !== void 0 ? json : {};\n                    // if we have a slotName and extensionId, it means that we're only loading the namespace for that extension\n                    // in that slot, but we _also_ process the base translations for the namespace and any top-level config overrides\n                    // so here we also provide the translations for just the namespace before merging everything together\n                    if (slotName && extensionId) {\n                        if (overrides.length >= 1 && language in overrides[0]) {\n                            window.i18next.addResourceBundle(language, ns, (0,lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(translations, overrides[0][language]), true, false);\n                        } else {\n                            window.i18next.addResourceBundle(language, ns, translations, true, false);\n                        }\n                    }\n                    translations = lodash_es__WEBPACK_IMPORTED_MODULE_4__[\"default\"].apply(void 0, [\n                        translations\n                    ].concat(_to_consumable_array(overrides.filter(function(o) {\n                        return language in o;\n                    }).map(function(o) {\n                        return o[language];\n                    }))));\n                    callback(null, translations);\n                }).catch(function(err) {\n                    callback(err, null);\n                });\n            }\n        }\n    }).use(react_i18next__WEBPACK_IMPORTED_MODULE_2__.initReactI18next).init({\n        detection: {\n            order: [\n                'querystring',\n                'htmlTag',\n                'localStorage',\n                'navigator'\n            ],\n            lookupQuerystring: 'lang'\n        },\n        fallbackLng: 'en',\n        nsSeparator: false\n    });\n}\nfunction getImportPromise(module, namespace, language) {\n    if (typeof module.importTranslation !== 'function') {\n        throw Error(\"Module \".concat(namespace, \" does not export an importTranslation function\"));\n    }\n    if (!language) {\n        return Promise.resolve({});\n    } else if (language.includes('-')) {\n        language = language.replace('-', '_');\n    }\n    var importPromise = module.importTranslation(\"./\".concat(language, \".json\"));\n    if (!_instanceof(importPromise, Promise)) {\n        throw Error(\"Module \".concat(namespace, \" exports an importTranslation function that does not return a promise. Did you forget to set require.context mode to 'lazy'?\"));\n    }\n    return importPromise;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUtBLE9BQUxBLEtBQUFBLEdBQUFBO3dCQUFNcUM7cUJBQWdGLENBQXRGckMsT0FBb0IscUJBQUdvQyxVQUFVVyxNQUFNLENBQUMsU0FBQ0M7K0JBQU1yQixZQUFZcUI7dUJBQUdDLEdBQUcsQ0FBQyxTQUFDRDsrQkFBTUEsQ0FBQyxDQUFDckIsU0FBUzs7b0JBRW5HRSxTQUFTLE1BQU1RO2dCQUNqQixHQUNDMUIsS0FBSyxDQUFDLFNBQUMyQjtvQkFDTlQsU0FBU1MsS0FBSztnQkFDaEI7WUFDSjtRQUNGO0lBQ0YsR0FDQ2YsR0FBRyxDQUFDeEIsMkRBQWdCQSxFQUNwQjBCLElBQUksQ0FBQztRQUNKeUIsV0FBVztZQUNUQyxPQUFPO2dCQUFDO2dCQUFlO2dCQUFXO2dCQUFnQjthQUFZO1lBQzlEQyxtQkFBbUI7UUFDckI7UUFDQUMsYUFBYTtRQUNiQyxhQUFhO0lBQ2Y7QUFDSjtBQUVBLFNBQVNWLGlCQUNQRCxNQUVDLEVBQ0RmLFNBQWlCLEVBQ2pCRCxRQUFnQjtJQUVoQixJQUFJLE9BQU9nQixPQUFPWSxpQkFBaUIsS0FBSyxZQUFZO1FBQ2xELE1BQU16QixNQUFNLFVBQW9CLE9BQVZGLFdBQVU7SUFDbEM7SUFFQSxJQUFJLENBQUNELFVBQVU7UUFDYixPQUFPSyxRQUFRd0IsT0FBTyxDQUFDLENBQUM7SUFDMUIsT0FBTyxJQUFJN0IsU0FBUzhCLFFBQVEsQ0FBQyxNQUFNO1FBQ2pDOUIsV0FBV0EsU0FBUytCLE9BQU8sQ0FBQyxLQUFLO0lBQ25DO0lBRUEsSUFBTUMsZ0JBQWdCaEIsT0FBT1ksaUJBQWlCLENBQUMsS0FBYyxPQUFUNUIsVUFBUztJQUU3RCxJQUFJLENBQUVnQyxZQUFBQSxlQUF5QjNCLFVBQVU7UUFDdkMsTUFBTUYsTUFDSixVQUFvQixPQUFWRixXQUFVO0lBRXhCO0lBRUEsT0FBTytCO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab3Blbm1ycy9lc20tYXBwLXNoZWxsLy4vc3JjL2xvY2FsZS50cz81YzFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGkxOG5leHQgZnJvbSAnaTE4bmV4dCc7XG5pbXBvcnQgTGFuZ3VhZ2VEZXRlY3RvciBmcm9tICdpMThuZXh0LWJyb3dzZXItbGFuZ3VhZ2VkZXRlY3Rvcic7XG5pbXBvcnQgeyBpbml0UmVhY3RJMThuZXh0IH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyBtZXJnZSB9IGZyb20gJ2xvZGFzaC1lcyc7XG5pbXBvcnQge1xuICBnZXRUcmFuc2xhdGlvbk92ZXJyaWRlcyxcbiAgaW1wb3J0RHluYW1pYyxcbiAgcmVnaXN0ZXJUcmFuc2xhdGlvbk5hbWVzcGFjZSxcbn0gZnJvbSAnQG9wZW5tcnMvZXNtLWZyYW1ld29yay9zcmMvaW50ZXJuYWwnO1xuXG5yZWdpc3RlclRyYW5zbGF0aW9uTmFtZXNwYWNlKCdjb3JlJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cEkxOG4oKSB7XG4gIGNvbnN0IGkxOG4gPSAod2luZG93LmkxOG5leHQgPSBpMThuZXh0LmRlZmF1bHQgfHwgaTE4bmV4dCk7XG5cbiAgY29uc3QgbGFuZ3VhZ2VDaGFuZ2VPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICBpMThuLmNoYW5nZUxhbmd1YWdlKCkuY2F0Y2goKGUpID0+IGNvbnNvbGUuZXJyb3IoJ2kxOG5leHQgZmFpbGVkIHRvIHJlLWRldGVjdCBsYW5ndWFnZScsIGUpKTtcbiAgfSk7XG5cbiAgbGFuZ3VhZ2VDaGFuZ2VPYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge1xuICAgIGF0dHJpYnV0ZUZpbHRlcjogWydsYW5nJ10sXG4gICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgfSk7XG5cbiAgaTE4bi5vbignbGFuZ3VhZ2VDaGFuZ2VkJywgKCkgPT4ge1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RpcicsIGkxOG4uZGlyKCkpO1xuICB9KTtcblxuICByZXR1cm4gaTE4blxuICAgIC51c2UoTGFuZ3VhZ2VEZXRlY3RvcilcbiAgICAudXNlPGkxOG5leHQuQmFja2VuZE1vZHVsZT4oe1xuICAgICAgdHlwZTogJ2JhY2tlbmQnLFxuICAgICAgaW5pdCgpIHt9LFxuICAgICAgcmVhZChsYW5ndWFnZSwgbmFtZXNwYWNlLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAobmFtZXNwYWNlID09PSAndHJhbnNsYXRpb24nKSB7XG4gICAgICAgICAgY2FsbGJhY2soRXJyb3IoXCJjYW4ndCBoYW5kbGUgdHJhbnNsYXRpb24gbmFtZXNwYWNlXCIpLCBudWxsKTtcbiAgICAgICAgfSBlbHNlIGlmIChuYW1lc3BhY2UgPT09IHVuZGVmaW5lZCB8fCBsYW5ndWFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2FsbGJhY2soRXJyb3IoKSwgbnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAobmFtZXNwYWNlID09PSAnY29yZScpIHtcbiAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBpbXBvcnQoLyogd2VicGFja01vZGU6IFwibGF6eVwiICovIGBAb3Blbm1ycy9lc20tdHJhbnNsYXRpb25zL3RyYW5zbGF0aW9ucy8ke2xhbmd1YWdlfS5qc29uYCksXG4gICAgICAgICAgICBnZXRUcmFuc2xhdGlvbk92ZXJyaWRlcyhuYW1lc3BhY2UpLFxuICAgICAgICAgIF0pXG4gICAgICAgICAgICAudGhlbigoW2pzb24sIFtvdmVycmlkZXNdXSkgPT4ge1xuICAgICAgICAgICAgICBsZXQgdHJhbnNsYXRpb25zID0ganNvbj8uZGVmYXVsdCA/PyB7fTtcblxuICAgICAgICAgICAgICBpZiAobGFuZ3VhZ2UgaW4gb3ZlcnJpZGVzKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRpb25zID0gbWVyZ2UodHJhbnNsYXRpb25zLCBvdmVycmlkZXNbbGFuZ3VhZ2VdKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHRyYW5zbGF0aW9ucyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnI6IEVycm9yKSA9PiB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBbbnMsIHNsb3ROYW1lLCBleHRlbnNpb25JZF0gPSBuYW1lc3BhY2Uuc3BsaXQoJ19fXycpO1xuICAgICAgICAgIGltcG9ydER5bmFtaWMobnMpXG4gICAgICAgICAgICAudGhlbigobW9kdWxlKSA9PlxuICAgICAgICAgICAgICBQcm9taXNlLmFsbChbZ2V0SW1wb3J0UHJvbWlzZShtb2R1bGUsIG5zLCBsYW5ndWFnZSksIGdldFRyYW5zbGF0aW9uT3ZlcnJpZGVzKG5zLCBzbG90TmFtZSwgZXh0ZW5zaW9uSWQpXSksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAudGhlbigoW2pzb24sIG92ZXJyaWRlc10pID0+IHtcbiAgICAgICAgICAgICAgbGV0IHRyYW5zbGF0aW9ucyA9IGpzb24gPz8ge307XG5cbiAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIHNsb3ROYW1lIGFuZCBleHRlbnNpb25JZCwgaXQgbWVhbnMgdGhhdCB3ZSdyZSBvbmx5IGxvYWRpbmcgdGhlIG5hbWVzcGFjZSBmb3IgdGhhdCBleHRlbnNpb25cbiAgICAgICAgICAgICAgLy8gaW4gdGhhdCBzbG90LCBidXQgd2UgX2Fsc29fIHByb2Nlc3MgdGhlIGJhc2UgdHJhbnNsYXRpb25zIGZvciB0aGUgbmFtZXNwYWNlIGFuZCBhbnkgdG9wLWxldmVsIGNvbmZpZyBvdmVycmlkZXNcbiAgICAgICAgICAgICAgLy8gc28gaGVyZSB3ZSBhbHNvIHByb3ZpZGUgdGhlIHRyYW5zbGF0aW9ucyBmb3IganVzdCB0aGUgbmFtZXNwYWNlIGJlZm9yZSBtZXJnaW5nIGV2ZXJ5dGhpbmcgdG9nZXRoZXJcbiAgICAgICAgICAgICAgaWYgKHNsb3ROYW1lICYmIGV4dGVuc2lvbklkKSB7XG4gICAgICAgICAgICAgICAgaWYgKG92ZXJyaWRlcy5sZW5ndGggPj0gMSAmJiBsYW5ndWFnZSBpbiBvdmVycmlkZXNbMF0pIHtcbiAgICAgICAgICAgICAgICAgIHdpbmRvdy5pMThuZXh0LmFkZFJlc291cmNlQnVuZGxlKFxuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZSxcbiAgICAgICAgICAgICAgICAgICAgbnMsXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlKHRyYW5zbGF0aW9ucywgb3ZlcnJpZGVzWzBdW2xhbmd1YWdlXSksXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgd2luZG93LmkxOG5leHQuYWRkUmVzb3VyY2VCdW5kbGUobGFuZ3VhZ2UsIG5zLCB0cmFuc2xhdGlvbnMsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0cmFuc2xhdGlvbnMgPSBtZXJnZSh0cmFuc2xhdGlvbnMsIC4uLm92ZXJyaWRlcy5maWx0ZXIoKG8pID0+IGxhbmd1YWdlIGluIG8pLm1hcCgobykgPT4gb1tsYW5ndWFnZV0pKTtcblxuICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCB0cmFuc2xhdGlvbnMpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyOiBFcnJvcikgPT4ge1xuICAgICAgICAgICAgICBjYWxsYmFjayhlcnIsIG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSlcbiAgICAudXNlKGluaXRSZWFjdEkxOG5leHQpXG4gICAgLmluaXQoe1xuICAgICAgZGV0ZWN0aW9uOiB7XG4gICAgICAgIG9yZGVyOiBbJ3F1ZXJ5c3RyaW5nJywgJ2h0bWxUYWcnLCAnbG9jYWxTdG9yYWdlJywgJ25hdmlnYXRvciddLFxuICAgICAgICBsb29rdXBRdWVyeXN0cmluZzogJ2xhbmcnLFxuICAgICAgfSxcbiAgICAgIGZhbGxiYWNrTG5nOiAnZW4nLFxuICAgICAgbnNTZXBhcmF0b3I6IGZhbHNlLFxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRJbXBvcnRQcm9taXNlKFxuICBtb2R1bGU6IHtcbiAgICBpbXBvcnRUcmFuc2xhdGlvbjogKGxhbmd1YWdlOiBzdHJpbmcpID0+IFByb21pc2U8UmVjb3JkPHN0cmluZywgc3RyaW5nPj47XG4gIH0sXG4gIG5hbWVzcGFjZTogc3RyaW5nLFxuICBsYW5ndWFnZTogc3RyaW5nLFxuKSB7XG4gIGlmICh0eXBlb2YgbW9kdWxlLmltcG9ydFRyYW5zbGF0aW9uICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgRXJyb3IoYE1vZHVsZSAke25hbWVzcGFjZX0gZG9lcyBub3QgZXhwb3J0IGFuIGltcG9ydFRyYW5zbGF0aW9uIGZ1bmN0aW9uYCk7XG4gIH1cblxuICBpZiAoIWxhbmd1YWdlKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7fSk7XG4gIH0gZWxzZSBpZiAobGFuZ3VhZ2UuaW5jbHVkZXMoJy0nKSkge1xuICAgIGxhbmd1YWdlID0gbGFuZ3VhZ2UucmVwbGFjZSgnLScsICdfJyk7XG4gIH1cblxuICBjb25zdCBpbXBvcnRQcm9taXNlID0gbW9kdWxlLmltcG9ydFRyYW5zbGF0aW9uKGAuLyR7bGFuZ3VhZ2V9Lmpzb25gKTtcblxuICBpZiAoIShpbXBvcnRQcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcbiAgICB0aHJvdyBFcnJvcihcbiAgICAgIGBNb2R1bGUgJHtuYW1lc3BhY2V9IGV4cG9ydHMgYW4gaW1wb3J0VHJhbnNsYXRpb24gZnVuY3Rpb24gdGhhdCBkb2VzIG5vdCByZXR1cm4gYSBwcm9taXNlLiBEaWQgeW91IGZvcmdldCB0byBzZXQgcmVxdWlyZS5jb250ZXh0IG1vZGUgdG8gJ2xhenknP2AsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBpbXBvcnRQcm9taXNlO1xufVxuIl0sIm5hbWVzIjpbImkxOG5leHQiLCJMYW5ndWFnZURldGVjdG9yIiwiaW5pdFJlYWN0STE4bmV4dCIsIm1lcmdlIiwiZ2V0VHJhbnNsYXRpb25PdmVycmlkZXMiLCJpbXBvcnREeW5hbWljIiwicmVnaXN0ZXJUcmFuc2xhdGlvbk5hbWVzcGFjZSIsInNldHVwSTE4biIsImkxOG4iLCJ3aW5kb3ciLCJkZWZhdWx0IiwibGFuZ3VhZ2VDaGFuZ2VPYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJjaGFuZ2VMYW5ndWFnZSIsImNhdGNoIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsIm9ic2VydmUiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImF0dHJpYnV0ZUZpbHRlciIsImF0dHJpYnV0ZXMiLCJvbiIsInNldEF0dHJpYnV0ZSIsImRpciIsInVzZSIsInR5cGUiLCJpbml0IiwicmVhZCIsImxhbmd1YWdlIiwibmFtZXNwYWNlIiwiY2FsbGJhY2siLCJFcnJvciIsInVuZGVmaW5lZCIsIlByb21pc2UiLCJhbGwiLCJ0aGVuIiwianNvbiIsIm92ZXJyaWRlcyIsInRyYW5zbGF0aW9ucyIsImVyciIsInNwbGl0IiwibnMiLCJzbG90TmFtZSIsImV4dGVuc2lvbklkIiwibW9kdWxlIiwiZ2V0SW1wb3J0UHJvbWlzZSIsImxlbmd0aCIsImFkZFJlc291cmNlQnVuZGxlIiwiZmlsdGVyIiwibyIsIm1hcCIsImRldGVjdGlvbiIsIm9yZGVyIiwibG9va3VwUXVlcnlzdHJpbmciLCJmYWxsYmFja0xuZyIsIm5zU2VwYXJhdG9yIiwiaW1wb3J0VHJhbnNsYXRpb24iLCJyZXNvbHZlIiwiaW5jbHVkZXMiLCJyZXBsYWNlIiwiaW1wb3J0UHJvbWlzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/locale.ts\n");

/***/ }),

/***/ "./src/optionaldeps.ts":
/*!*****************************!*\
  !*** ./src/optionaldeps.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupOptionalDependencies: () => (/* binding */ setupOptionalDependencies)\n/* harmony export */ });\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openmrs/esm-framework/src/internal */ \"webpack/sharing/consume/default/@openmrs/esm-framework/src/internal/@openmrs/esm-framework/src/internal\");\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! semver */ \"../../../node_modules/semver/index.js\");\n/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(semver__WEBPACK_IMPORTED_MODULE_1__);\nfunction _type_of(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n}\n\n\nfunction setupOptionalDependencies() {\n    var optionalDependencyFlags = window.installedModules.reduce(function(curr, module) {\n        var _module_;\n        if ((_module_ = module[1]) === null || _module_ === void 0 ? void 0 : _module_.optionalBackendDependencies) {\n            Object.entries(module[1].optionalBackendDependencies).forEach(function(optionalDependency) {\n                var optionalDependencyDescriptor = optionalDependency[1];\n                if (typeof optionalDependencyDescriptor !== 'string') {\n                    var _optionalDependencyDescriptor_feature_flagName, _optionalDependencyDescriptor_feature_label, _optionalDependencyDescriptor_feature_description;\n                    if (_type_of(optionalDependencyDescriptor.feature) === 'object' && optionalDependencyDescriptor.feature && ((_optionalDependencyDescriptor_feature_flagName = optionalDependencyDescriptor.feature.flagName) === null || _optionalDependencyDescriptor_feature_flagName === void 0 ? void 0 : _optionalDependencyDescriptor_feature_flagName.length) > 0 && ((_optionalDependencyDescriptor_feature_label = optionalDependencyDescriptor.feature.label) === null || _optionalDependencyDescriptor_feature_label === void 0 ? void 0 : _optionalDependencyDescriptor_feature_label.length) > 0 && ((_optionalDependencyDescriptor_feature_description = optionalDependencyDescriptor.feature.description) === null || _optionalDependencyDescriptor_feature_description === void 0 ? void 0 : _optionalDependencyDescriptor_feature_description.length) > 0) {\n                        curr.set(optionalDependency[0], {\n                            version: optionalDependencyDescriptor.version,\n                            feature: optionalDependencyDescriptor.feature\n                        });\n                    } else {\n                        console.warn(\"Feature flag descriptor for \".concat(module[0], \" does not match expected type. Feature flags must define a 'flagName', 'label', and 'description'\"));\n                    }\n                }\n            });\n        }\n        return curr;\n    }, new Map());\n    if (optionalDependencyFlags.size > 0) {\n        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__.openmrsFetch)(\"\".concat(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__.restBaseUrl, \"/module?v=custom:(uuid,version)\")).then(function(response) {\n            var _response_data_results;\n            ((_response_data_results = response.data.results) !== null && _response_data_results !== void 0 ? _response_data_results : []).forEach(function(backendModule) {\n                if (optionalDependencyFlags.has(backendModule.uuid)) {\n                    var optionalDependency = optionalDependencyFlags.get(backendModule.uuid);\n                    if (optionalDependency && (0,semver__WEBPACK_IMPORTED_MODULE_1__.satisfies)(backendModule.version, optionalDependency.version, {\n                        includePrerelease: true\n                    })) {\n                        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__.registerFeatureFlag)(optionalDependency.feature.flagName, optionalDependency.feature.label, optionalDependency.feature.description);\n                        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__.setFeatureFlag)(optionalDependency.feature.flagName, true);\n                    }\n                }\n            });\n        }).catch(function() {}); // swallow any issues fetching\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvb3B0aW9uYWxkZXBzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQU02QztBQUNWO0FBRTVCLFNBQVNLO0lBQ2QsSUFBTUMsMEJBQTBCQyxPQUFPQyxnQkFBZ0IsQ0FBQ0MsTUFBTSxDQUU1RCxTQUFDQyxNQUFNQztZQUNIQTtRQUFKLEtBQUlBLFdBQUFBLE1BQU0sQ0FBQyxFQUFFLGNBQVRBLCtCQUFBQSxTQUFXQywyQkFBMkIsRUFBRTtZQUMxQ0MsT0FBT0MsT0FBTyxDQUFDSCxNQUFNLENBQUMsRUFBRSxDQUFDQywyQkFBMkIsRUFBRUcsT0FBTyxDQUFDLFNBQUNDO2dCQUM3RCxJQUFNQywrQkFBK0JELGtCQUFrQixDQUFDLEVBQUU7Z0JBQzFELElBQUksT0FBT0MsaUNBQWlDLFVBQVU7d0JBSWxEQSxnREFDQUEsNkNBQ0FBO29CQUxGLElBQ0UsU0FBT0EsNkJBQTZCQyxPQUFPLE1BQUssWUFDaERELDZCQUE2QkMsT0FBTyxJQUNwQ0QsRUFBQUEsaURBQUFBLDZCQUE2QkMsT0FBTyxDQUFDQyxRQUFRLGNBQTdDRixxRUFBQUEsK0NBQStDRyxNQUFNLElBQUcsS0FDeERILEVBQUFBLDhDQUFBQSw2QkFBNkJDLE9BQU8sQ0FBQ0csS0FBSyxjQUExQ0osa0VBQUFBLDRDQUE0Q0csTUFBTSxJQUFHLEtBQ3JESCxFQUFBQSxvREFBQUEsNkJBQTZCQyxPQUFPLENBQUNJLFdBQVcsY0FBaERMLHdFQUFBQSxrREFBa0RHLE1BQU0sSUFBRyxHQUMzRDt3QkFDQVYsS0FBS2EsR0FBRyxDQUFDUCxrQkFBa0IsQ0FBQyxFQUFFLEVBQUU7NEJBQzlCUSxTQUFTUCw2QkFBNkJPLE9BQU87NEJBQzdDTixTQUFTRCw2QkFBNkJDLE9BQU87d0JBQy9DO29CQUNGLE9BQU87d0JBQ0xPLFFBQVFDLElBQUksQ0FDViwrQkFBeUMsT0FBVmYsTUFBTSxDQUFDLEVBQUUsRUFBQztvQkFFN0M7Z0JBQ0Y7WUFDRjtRQUNGO1FBRUEsT0FBT0Q7SUFDVCxHQUFHLElBQUlpQjtJQUVQLElBQUlyQix3QkFBd0JzQixJQUFJLEdBQUcsR0FBRztRQUNwQzVCLGlGQUFZQSxDQUFtRCxHQUFlLE9BQVpHLDRFQUFXQSxFQUFDLG9DQUMzRTBCLElBQUksQ0FBQyxTQUFDQztnQkFDSkE7WUFBQUEsQ0FBQUEsQ0FBQUEseUJBQUFBLFNBQVNDLElBQUksQ0FBQ0MsT0FBTyxjQUFyQkYsb0NBQUFBLHlCQUF5QixFQUFFLEVBQUVmLE9BQU8sQ0FBQyxTQUFDa0I7Z0JBQ3JDLElBQUkzQix3QkFBd0I0QixHQUFHLENBQUNELGNBQWNFLElBQUksR0FBRztvQkFDbkQsSUFBTW5CLHFCQUFxQlYsd0JBQXdCOEIsR0FBRyxDQUFDSCxjQUFjRSxJQUFJO29CQUN6RSxJQUNFbkIsc0JBQ0FaLGlEQUFTQSxDQUFDNkIsY0FBY1QsT0FBTyxFQUFFUixtQkFBbUJRLE9BQU8sRUFBRTt3QkFBRWEsbUJBQW1CO29CQUFLLElBQ3ZGO3dCQUNBcEMsd0ZBQW1CQSxDQUNqQmUsbUJBQW1CRSxPQUFPLENBQUNDLFFBQVEsRUFDbkNILG1CQUFtQkUsT0FBTyxDQUFDRyxLQUFLLEVBQ2hDTCxtQkFBbUJFLE9BQU8sQ0FBQ0ksV0FBVzt3QkFHeENwQixtRkFBY0EsQ0FBQ2MsbUJBQW1CRSxPQUFPLENBQUNDLFFBQVEsRUFBRTtvQkFDdEQ7Z0JBQ0Y7WUFDRjtRQUNGLEdBQ0NtQixLQUFLLENBQUMsWUFBTyxJQUFJLDhCQUE4QjtJQUNwRDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG9wZW5tcnMvZXNtLWFwcC1zaGVsbC8uL3NyYy9vcHRpb25hbGRlcHMudHM/OWI4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB0eXBlIEZlYXR1cmVGbGFnRGVmaW5pdGlvbixcbiAgb3Blbm1yc0ZldGNoLFxuICByZWdpc3RlckZlYXR1cmVGbGFnLFxuICBzZXRGZWF0dXJlRmxhZyxcbiAgcmVzdEJhc2VVcmwsXG59IGZyb20gJ0BvcGVubXJzL2VzbS1mcmFtZXdvcmsvc3JjL2ludGVybmFsJztcbmltcG9ydCB7IHNhdGlzZmllcyB9IGZyb20gJ3NlbXZlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cE9wdGlvbmFsRGVwZW5kZW5jaWVzKCkge1xuICBjb25zdCBvcHRpb25hbERlcGVuZGVuY3lGbGFncyA9IHdpbmRvdy5pbnN0YWxsZWRNb2R1bGVzLnJlZHVjZTxcbiAgICBNYXA8c3RyaW5nLCB7IHZlcnNpb246IHN0cmluZzsgZmVhdHVyZTogRmVhdHVyZUZsYWdEZWZpbml0aW9uIH0+XG4gID4oKGN1cnIsIG1vZHVsZSkgPT4ge1xuICAgIGlmIChtb2R1bGVbMV0/Lm9wdGlvbmFsQmFja2VuZERlcGVuZGVuY2llcykge1xuICAgICAgT2JqZWN0LmVudHJpZXMobW9kdWxlWzFdLm9wdGlvbmFsQmFja2VuZERlcGVuZGVuY2llcykuZm9yRWFjaCgob3B0aW9uYWxEZXBlbmRlbmN5KSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbmFsRGVwZW5kZW5jeURlc2NyaXB0b3IgPSBvcHRpb25hbERlcGVuZGVuY3lbMV07XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uYWxEZXBlbmRlbmN5RGVzY3JpcHRvciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2Ygb3B0aW9uYWxEZXBlbmRlbmN5RGVzY3JpcHRvci5mZWF0dXJlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgb3B0aW9uYWxEZXBlbmRlbmN5RGVzY3JpcHRvci5mZWF0dXJlICYmXG4gICAgICAgICAgICBvcHRpb25hbERlcGVuZGVuY3lEZXNjcmlwdG9yLmZlYXR1cmUuZmxhZ05hbWU/Lmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIG9wdGlvbmFsRGVwZW5kZW5jeURlc2NyaXB0b3IuZmVhdHVyZS5sYWJlbD8ubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgb3B0aW9uYWxEZXBlbmRlbmN5RGVzY3JpcHRvci5mZWF0dXJlLmRlc2NyaXB0aW9uPy5sZW5ndGggPiAwXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjdXJyLnNldChvcHRpb25hbERlcGVuZGVuY3lbMF0sIHtcbiAgICAgICAgICAgICAgdmVyc2lvbjogb3B0aW9uYWxEZXBlbmRlbmN5RGVzY3JpcHRvci52ZXJzaW9uLFxuICAgICAgICAgICAgICBmZWF0dXJlOiBvcHRpb25hbERlcGVuZGVuY3lEZXNjcmlwdG9yLmZlYXR1cmUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBgRmVhdHVyZSBmbGFnIGRlc2NyaXB0b3IgZm9yICR7bW9kdWxlWzBdfSBkb2VzIG5vdCBtYXRjaCBleHBlY3RlZCB0eXBlLiBGZWF0dXJlIGZsYWdzIG11c3QgZGVmaW5lIGEgJ2ZsYWdOYW1lJywgJ2xhYmVsJywgYW5kICdkZXNjcmlwdGlvbidgLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjdXJyO1xuICB9LCBuZXcgTWFwKCkpO1xuXG4gIGlmIChvcHRpb25hbERlcGVuZGVuY3lGbGFncy5zaXplID4gMCkge1xuICAgIG9wZW5tcnNGZXRjaDx7IHJlc3VsdHM6IHsgdXVpZDogc3RyaW5nOyB2ZXJzaW9uOiBzdHJpbmcgfVtdIH0+KGAke3Jlc3RCYXNlVXJsfS9tb2R1bGU/dj1jdXN0b206KHV1aWQsdmVyc2lvbilgKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIChyZXNwb25zZS5kYXRhLnJlc3VsdHMgPz8gW10pLmZvckVhY2goKGJhY2tlbmRNb2R1bGUpID0+IHtcbiAgICAgICAgICBpZiAob3B0aW9uYWxEZXBlbmRlbmN5RmxhZ3MuaGFzKGJhY2tlbmRNb2R1bGUudXVpZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbmFsRGVwZW5kZW5jeSA9IG9wdGlvbmFsRGVwZW5kZW5jeUZsYWdzLmdldChiYWNrZW5kTW9kdWxlLnV1aWQpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBvcHRpb25hbERlcGVuZGVuY3kgJiZcbiAgICAgICAgICAgICAgc2F0aXNmaWVzKGJhY2tlbmRNb2R1bGUudmVyc2lvbiwgb3B0aW9uYWxEZXBlbmRlbmN5LnZlcnNpb24sIHsgaW5jbHVkZVByZXJlbGVhc2U6IHRydWUgfSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICByZWdpc3RlckZlYXR1cmVGbGFnKFxuICAgICAgICAgICAgICAgIG9wdGlvbmFsRGVwZW5kZW5jeS5mZWF0dXJlLmZsYWdOYW1lLFxuICAgICAgICAgICAgICAgIG9wdGlvbmFsRGVwZW5kZW5jeS5mZWF0dXJlLmxhYmVsLFxuICAgICAgICAgICAgICAgIG9wdGlvbmFsRGVwZW5kZW5jeS5mZWF0dXJlLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIHNldEZlYXR1cmVGbGFnKG9wdGlvbmFsRGVwZW5kZW5jeS5mZWF0dXJlLmZsYWdOYW1lLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiB7fSk7IC8vIHN3YWxsb3cgYW55IGlzc3VlcyBmZXRjaGluZ1xuICB9XG59XG4iXSwibmFtZXMiOlsib3Blbm1yc0ZldGNoIiwicmVnaXN0ZXJGZWF0dXJlRmxhZyIsInNldEZlYXR1cmVGbGFnIiwicmVzdEJhc2VVcmwiLCJzYXRpc2ZpZXMiLCJzZXR1cE9wdGlvbmFsRGVwZW5kZW5jaWVzIiwib3B0aW9uYWxEZXBlbmRlbmN5RmxhZ3MiLCJ3aW5kb3ciLCJpbnN0YWxsZWRNb2R1bGVzIiwicmVkdWNlIiwiY3VyciIsIm1vZHVsZSIsIm9wdGlvbmFsQmFja2VuZERlcGVuZGVuY2llcyIsIk9iamVjdCIsImVudHJpZXMiLCJmb3JFYWNoIiwib3B0aW9uYWxEZXBlbmRlbmN5Iiwib3B0aW9uYWxEZXBlbmRlbmN5RGVzY3JpcHRvciIsImZlYXR1cmUiLCJmbGFnTmFtZSIsImxlbmd0aCIsImxhYmVsIiwiZGVzY3JpcHRpb24iLCJzZXQiLCJ2ZXJzaW9uIiwiY29uc29sZSIsIndhcm4iLCJNYXAiLCJzaXplIiwidGhlbiIsInJlc3BvbnNlIiwiZGF0YSIsInJlc3VsdHMiLCJiYWNrZW5kTW9kdWxlIiwiaGFzIiwidXVpZCIsImdldCIsImluY2x1ZGVQcmVyZWxlYXNlIiwiY2F0Y2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/optionaldeps.ts\n");

/***/ }),

/***/ "./src/routing-events.ts":
/*!*******************************!*\
  !*** ./src/routing-events.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openmrs/esm-framework/src/internal */ \"webpack/sharing/consume/default/@openmrs/esm-framework/src/internal/@openmrs/esm-framework/src/internal\");\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__);\nfunction _type_of(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n}\n\nfunction isBeforeRoutingEvent(event) {\n    return 'detail' in event && _type_of(event['detail']) === 'object' && event.detail !== null && 'appsByNewStatus' in event.detail && _type_of(event.detail.appsByNewStatus) === 'object' && event.detail.appsByNewStatus !== null && 'cancelNavigation' in event.detail && typeof event.detail.cancelNavigation === 'function';\n}\nvar isEnabled = false;\n(0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__.subscribeOpenmrsEvent)('started', function() {\n    return isEnabled = true;\n});\n// This event listener translates the single-spa:before-routing-event into a custom event\n// for the page about to be rendered\nwindow.addEventListener('single-spa:before-routing-event', function(event) {\n    if (isEnabled && isBeforeRoutingEvent(event)) {\n        if (event.detail.totalAppChanges > 0) {\n            var mountedApp = event.detail.appsByNewStatus.MOUNTED.find(function(it) {\n                return !it.startsWith('@openmrs/esm-primary-navigation-app') && !it.startsWith('@openmrs/esm-devtools-app') && !it.startsWith('@openmrs/esm-help-menu-app');\n            });\n            var payload = {\n                cancelNavigation: event.detail.cancelNavigation,\n                newPage: undefined,\n                oldUrl: event.detail.oldUrl,\n                newUrl: event.detail.newUrl\n            };\n            if (mountedApp) {\n                payload.newPage = mountedApp;\n            }\n            (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_0__.fireOpenmrsEvent)('before-page-changed', payload);\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcm91dGluZy1ldmVudHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFzSDtBQWV0SCxTQUFTRSxxQkFBcUJDLEtBQVk7SUFDeEMsT0FDRSxZQUFZQSxTQUNaLFNBQU9BLEtBQUssQ0FBQyxTQUFTLE1BQUssWUFDM0JBLE1BQU1DLE1BQU0sS0FBSyxRQUNqQixxQkFBcUJELE1BQU1DLE1BQU0sSUFDakMsU0FBT0QsTUFBTUMsTUFBTSxDQUFDQyxlQUFlLE1BQUssWUFDeENGLE1BQU1DLE1BQU0sQ0FBQ0MsZUFBZSxLQUFLLFFBQ2pDLHNCQUFzQkYsTUFBTUMsTUFBTSxJQUNsQyxPQUFPRCxNQUFNQyxNQUFNLENBQUNFLGdCQUFnQixLQUFLO0FBRTdDO0FBRUEsSUFBSUMsWUFBWTtBQUVoQk4sMEZBQXFCQSxDQUFDLFdBQVc7V0FBT00sWUFBWTs7QUFFcEQseUZBQXlGO0FBQ3pGLG9DQUFvQztBQUNwQ0MsT0FBT0MsZ0JBQWdCLENBQUMsbUNBQW1DLFNBQUNOO0lBQzFELElBQUlJLGFBQWFMLHFCQUFxQkMsUUFBUTtRQUM1QyxJQUFJQSxNQUFNQyxNQUFNLENBQUNNLGVBQWUsR0FBRyxHQUFHO1lBQ3BDLElBQU1DLGFBQWFSLE1BQU1DLE1BQU0sQ0FBQ0MsZUFBZSxDQUFDTyxPQUFPLENBQUNDLElBQUksQ0FDMUQsU0FBQ0M7dUJBQ0MsQ0FBQ0EsR0FBR0MsVUFBVSxDQUFDLDBDQUNmLENBQUNELEdBQUdDLFVBQVUsQ0FBQyxnQ0FDZixDQUFDRCxHQUFHQyxVQUFVLENBQUM7O1lBR25CLElBQU1DLFVBQW9EO2dCQUN4RFYsa0JBQWtCSCxNQUFNQyxNQUFNLENBQUNFLGdCQUFnQjtnQkFDL0NXLFNBQVNDO2dCQUNUQyxRQUFRaEIsTUFBTUMsTUFBTSxDQUFDZSxNQUFNO2dCQUMzQkMsUUFBUWpCLE1BQU1DLE1BQU0sQ0FBQ2dCLE1BQU07WUFDN0I7WUFFQSxJQUFJVCxZQUFZO2dCQUNkSyxRQUFRQyxPQUFPLEdBQUdOO1lBQ3BCO1lBRUFYLHFGQUFnQkEsQ0FBQyx1QkFBdUJnQjtRQUMxQztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab3Blbm1ycy9lc20tYXBwLXNoZWxsLy4vc3JjL3JvdXRpbmctZXZlbnRzLnRzPzkzM2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmlyZU9wZW5tcnNFdmVudCwgdHlwZSBPcGVubXJzRXZlbnRUeXBlcywgc3Vic2NyaWJlT3Blbm1yc0V2ZW50IH0gZnJvbSAnQG9wZW5tcnMvZXNtLWZyYW1ld29yay9zcmMvaW50ZXJuYWwnO1xuXG5pbnRlcmZhY2UgQmVmb3JlUm91dGluZ0V2ZW50UGF5bG9hZCB7XG4gIGFwcHNCeU5ld1N0YXR1czoge1xuICAgIE1PVU5URUQ6IEFycmF5PHN0cmluZz47XG4gICAgTk9UX01PVU5URUQ6IEFycmF5PHN0cmluZz47XG4gICAgTk9UX0xPQURFRDogQXJyYXk8c3RyaW5nPjtcbiAgICBTS0lQX0JFQ0FVU0VfQlJPS0VOOiBBcnJheTxzdHJpbmc+O1xuICB9O1xuICB0b3RhbEFwcENoYW5nZXM6IG51bWJlcjtcbiAgb2xkVXJsOiBzdHJpbmc7XG4gIG5ld1VybDogc3RyaW5nO1xuICBjYW5jZWxOYXZpZ2F0aW9uKHZhbD86IGJvb2xlYW4gfCBQcm9taXNlPGJvb2xlYW4+KTogdm9pZDtcbn1cblxuZnVuY3Rpb24gaXNCZWZvcmVSb3V0aW5nRXZlbnQoZXZlbnQ6IEV2ZW50KTogZXZlbnQgaXMgRXZlbnQgJiB7IGRldGFpbDogQmVmb3JlUm91dGluZ0V2ZW50UGF5bG9hZCB9IHtcbiAgcmV0dXJuIChcbiAgICAnZGV0YWlsJyBpbiBldmVudCAmJlxuICAgIHR5cGVvZiBldmVudFsnZGV0YWlsJ10gPT09ICdvYmplY3QnICYmXG4gICAgZXZlbnQuZGV0YWlsICE9PSBudWxsICYmXG4gICAgJ2FwcHNCeU5ld1N0YXR1cycgaW4gZXZlbnQuZGV0YWlsICYmXG4gICAgdHlwZW9mIGV2ZW50LmRldGFpbC5hcHBzQnlOZXdTdGF0dXMgPT09ICdvYmplY3QnICYmXG4gICAgZXZlbnQuZGV0YWlsLmFwcHNCeU5ld1N0YXR1cyAhPT0gbnVsbCAmJlxuICAgICdjYW5jZWxOYXZpZ2F0aW9uJyBpbiBldmVudC5kZXRhaWwgJiZcbiAgICB0eXBlb2YgZXZlbnQuZGV0YWlsLmNhbmNlbE5hdmlnYXRpb24gPT09ICdmdW5jdGlvbidcbiAgKTtcbn1cblxubGV0IGlzRW5hYmxlZCA9IGZhbHNlO1xuXG5zdWJzY3JpYmVPcGVubXJzRXZlbnQoJ3N0YXJ0ZWQnLCAoKSA9PiAoaXNFbmFibGVkID0gdHJ1ZSkpO1xuXG4vLyBUaGlzIGV2ZW50IGxpc3RlbmVyIHRyYW5zbGF0ZXMgdGhlIHNpbmdsZS1zcGE6YmVmb3JlLXJvdXRpbmctZXZlbnQgaW50byBhIGN1c3RvbSBldmVudFxuLy8gZm9yIHRoZSBwYWdlIGFib3V0IHRvIGJlIHJlbmRlcmVkXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2luZ2xlLXNwYTpiZWZvcmUtcm91dGluZy1ldmVudCcsIChldmVudDogRXZlbnQpID0+IHtcbiAgaWYgKGlzRW5hYmxlZCAmJiBpc0JlZm9yZVJvdXRpbmdFdmVudChldmVudCkpIHtcbiAgICBpZiAoZXZlbnQuZGV0YWlsLnRvdGFsQXBwQ2hhbmdlcyA+IDApIHtcbiAgICAgIGNvbnN0IG1vdW50ZWRBcHAgPSBldmVudC5kZXRhaWwuYXBwc0J5TmV3U3RhdHVzLk1PVU5URUQuZmluZChcbiAgICAgICAgKGl0KSA9PlxuICAgICAgICAgICFpdC5zdGFydHNXaXRoKCdAb3Blbm1ycy9lc20tcHJpbWFyeS1uYXZpZ2F0aW9uLWFwcCcpICYmXG4gICAgICAgICAgIWl0LnN0YXJ0c1dpdGgoJ0BvcGVubXJzL2VzbS1kZXZ0b29scy1hcHAnKSAmJlxuICAgICAgICAgICFpdC5zdGFydHNXaXRoKCdAb3Blbm1ycy9lc20taGVscC1tZW51LWFwcCcpLFxuICAgICAgKTtcblxuICAgICAgY29uc3QgcGF5bG9hZDogT3Blbm1yc0V2ZW50VHlwZXNbJ2JlZm9yZS1wYWdlLWNoYW5nZWQnXSA9IHtcbiAgICAgICAgY2FuY2VsTmF2aWdhdGlvbjogZXZlbnQuZGV0YWlsLmNhbmNlbE5hdmlnYXRpb24sXG4gICAgICAgIG5ld1BhZ2U6IHVuZGVmaW5lZCxcbiAgICAgICAgb2xkVXJsOiBldmVudC5kZXRhaWwub2xkVXJsLFxuICAgICAgICBuZXdVcmw6IGV2ZW50LmRldGFpbC5uZXdVcmwsXG4gICAgICB9O1xuXG4gICAgICBpZiAobW91bnRlZEFwcCkge1xuICAgICAgICBwYXlsb2FkLm5ld1BhZ2UgPSBtb3VudGVkQXBwO1xuICAgICAgfVxuXG4gICAgICBmaXJlT3Blbm1yc0V2ZW50KCdiZWZvcmUtcGFnZS1jaGFuZ2VkJywgcGF5bG9hZCk7XG4gICAgfVxuICB9XG59KTtcbiJdLCJuYW1lcyI6WyJmaXJlT3Blbm1yc0V2ZW50Iiwic3Vic2NyaWJlT3Blbm1yc0V2ZW50IiwiaXNCZWZvcmVSb3V0aW5nRXZlbnQiLCJldmVudCIsImRldGFpbCIsImFwcHNCeU5ld1N0YXR1cyIsImNhbmNlbE5hdmlnYXRpb24iLCJpc0VuYWJsZWQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwidG90YWxBcHBDaGFuZ2VzIiwibW91bnRlZEFwcCIsIk1PVU5URUQiLCJmaW5kIiwiaXQiLCJzdGFydHNXaXRoIiwicGF5bG9hZCIsIm5ld1BhZ2UiLCJ1bmRlZmluZWQiLCJvbGRVcmwiLCJuZXdVcmwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routing-events.ts\n");

/***/ }),

/***/ "./src/run.ts":
/*!********************!*\
  !*** ./src/run.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   run: () => (/* binding */ run)\n/* harmony export */ });\n/* harmony import */ var single_spa__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! single-spa */ \"webpack/sharing/consume/default/single-spa/single-spa\");\n/* harmony import */ var single_spa__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(single_spa__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openmrs/esm-framework/src/internal */ \"webpack/sharing/consume/default/@openmrs/esm-framework/src/internal/@openmrs/esm-framework/src/internal\");\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _locale__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./locale */ \"./src/locale.ts\");\n/* harmony import */ var _routing_events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./routing-events */ \"./src/routing-events.ts\");\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./events */ \"./src/events.ts\");\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ui */ \"./src/ui/index.ts\");\n/* harmony import */ var _core_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core-config */ \"./src/core-config.ts\");\nfunction _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction _non_iterable_rest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _sliced_to_array(arr, i) {\n    return _array_with_holes(arr) || _iterable_to_array_limit(arr, i) || _unsupported_iterable_to_array(arr, i) || _non_iterable_rest();\n}\nfunction _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\nfunction _ts_generator(thisArg, body) {\n    var f, y, t, _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(g && (g = 0, op[0] && (_ = 0)), _)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n}\n\n\n\n\n\n\n\n// @internal\n// used to track when the window.installedModules global is finalised\n// so we can pre-load all modules\nvar REGISTRATION_PROMISES = Symbol('openmrs_registration_promises');\n/**\n * Sets up the frontend modules (apps). Uses the defined export\n * from the root modules of the apps. This is done by reading the\n * list of apps from the routes.registry.json file, which serves\n * as the registry of all apps in the application.\n */ function setupApps() {\n    return _async_to_generator(function() {\n        var scriptTags, promises, i, _loop, localStorage1, i1, routes, modules, registrationPromises;\n        return _ts_generator(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    scriptTags = document.querySelectorAll(\"script[type='openmrs-routes']\");\n                    promises = [];\n                    for(i = 0; i < scriptTags.length; i++){\n                        promises.push(function(scriptTag) {\n                            return _async_to_generator(function() {\n                                var routes, e, _scriptTag_src;\n                                return _ts_generator(this, function(_state) {\n                                    switch(_state.label){\n                                        case 0:\n                                            routes = undefined;\n                                            _state.label = 1;\n                                        case 1:\n                                            _state.trys.push([\n                                                1,\n                                                5,\n                                                ,\n                                                6\n                                            ]);\n                                            if (!scriptTag.textContent) return [\n                                                3,\n                                                2\n                                            ];\n                                            routes = JSON.parse(scriptTag.textContent);\n                                            return [\n                                                3,\n                                                4\n                                            ];\n                                        case 2:\n                                            if (!scriptTag.src) return [\n                                                3,\n                                                4\n                                            ];\n                                            return [\n                                                4,\n                                                (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.openmrsFetch)(scriptTag.src)\n                                            ];\n                                        case 3:\n                                            routes = _state.sent().data;\n                                            _state.label = 4;\n                                        case 4:\n                                            return [\n                                                3,\n                                                6\n                                            ];\n                                        case 5:\n                                            e = _state.sent();\n                                            console.error(\"Caught error while loading routes from \".concat((_scriptTag_src = scriptTag.src) !== null && _scriptTag_src !== void 0 ? _scriptTag_src : 'JSON script tag content'), e);\n                                            return [\n                                                2,\n                                                {}\n                                            ];\n                                        case 6:\n                                            return [\n                                                2,\n                                                Promise.resolve(routes !== null && routes !== void 0 ? routes : {})\n                                            ];\n                                    }\n                                });\n                            })();\n                        }(scriptTags.item(i)));\n                    }\n                    if ((0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.canAccessStorage)()) {\n                        _loop = function(i1) {\n                            var key = localStorage1.key(i1);\n                            if (key === null || key === void 0 ? void 0 : key.startsWith(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.localStorageRoutesPrefix)) {\n                                var localOverride = localStorage1.getItem(key);\n                                if (localOverride) {\n                                    try {\n                                        var maybeOpenmrsRoutes = JSON.parse(localOverride);\n                                        if ((0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.isOpenmrsAppRoutes)(maybeOpenmrsRoutes)) {\n                                            promises.push(Promise.resolve(_define_property({}, key.slice(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.localStorageRoutesPrefix.length), maybeOpenmrsRoutes)));\n                                        } else if (typeof maybeOpenmrsRoutes === 'string' && maybeOpenmrsRoutes.startsWith('http')) {\n                                            promises.push((0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.openmrsFetch)(maybeOpenmrsRoutes).then(function(response) {\n                                                if ((0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.isOpenmrsAppRoutes)(response.data)) {\n                                                    return Promise.resolve(_define_property({}, key.slice(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.localStorageRoutesPrefix.length), response.data));\n                                                }\n                                                return Promise.reject(\"\".concat(maybeOpenmrsRoutes, \" did not resolve to a valid OpenmrsAppRoutes JSON object\"));\n                                            }).catch(function(reason) {\n                                                console.warn(\"Failed to fetch route overrides for \".concat(key.slice(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.localStorageRoutesPrefix.length)), reason);\n                                                // still fail the promise\n                                                throw reason;\n                                            }));\n                                        } else {\n                                            console.warn(\"Route override for \".concat(key.slice(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.localStorageRoutesPrefix.length), \" could not be handled as it was neither a JSON object nor a URL string\"), localOverride);\n                                        }\n                                    } catch (e) {\n                                        console.error(\"Error parsing local route override for \".concat(key), e);\n                                    }\n                                }\n                            }\n                        };\n                        // load routes overrides from localStorage if any\n                        localStorage1 = window.localStorage;\n                        for(i1 = 0; i1 < localStorage1.length; i1++)_loop(i1);\n                    }\n                    return [\n                        4,\n                        Promise.allSettled(promises)\n                    ];\n                case 1:\n                    routes = _state.sent().filter(function(p) {\n                        return p.status === 'fulfilled';\n                    }).map(function(p) {\n                        return p.value;\n                    }).filter(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.isOpenmrsRoutes).reduce(function(accumulatedRoutes, routes) {\n                        return _object_spread({}, accumulatedRoutes, routes);\n                    }, {});\n                    modules = [];\n                    registrationPromises = Object.entries(routes).map(function(param) {\n                        var _param = _sliced_to_array(param, 2), module = _param[0], routes = _param[1];\n                        return _async_to_generator(function() {\n                            return _ts_generator(this, function(_state) {\n                                modules.push([\n                                    module,\n                                    routes\n                                ]);\n                                (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.registerApp)(module, routes);\n                                return [\n                                    2\n                                ];\n                            });\n                        })();\n                    });\n                    window[REGISTRATION_PROMISES] = Promise.all(registrationPromises);\n                    window.installedModules = modules;\n                    return [\n                        2\n                    ];\n            }\n        });\n    })();\n}\n/**\n * Loads the provided configurations and sets them in the system.\n */ function loadConfigs(configs) {\n    return _async_to_generator(function() {\n        var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, config;\n        return _ts_generator(this, function(_state) {\n            _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                for(_iterator = configs[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    config = _step.value;\n                    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.provide)(config.value, config.name);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            return [\n                2\n            ];\n        });\n    })();\n}\n/**\n * Invoked when the connectivity is changed.\n */ function connectivityChanged() {\n    if (!window.offlineEnabled) {\n        return;\n    }\n    var online = navigator.onLine;\n    // NB We do not wait for this to be done; it is simply scheduled\n    (0,single_spa__WEBPACK_IMPORTED_MODULE_0__.triggerAppChange)();\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.dispatchConnectivityChanged)(online);\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.showToast)({\n        critical: true,\n        description: \"Connection: \".concat(online ? 'online' : 'offline'),\n        title: 'App',\n        kind: online ? 'success' : 'warning'\n    });\n}\n/**\n * Runs the shell by importing the translations and starting single SPA.\n */ function runShell() {\n    return _async_to_generator(function() {\n        return _ts_generator(this, function(_state) {\n            return [\n                2,\n                (0,_locale__WEBPACK_IMPORTED_MODULE_2__.setupI18n)().catch(function(err) {\n                    return console.error(\"Failed to initialize translations\", err);\n                }).then(function() {\n                    return _async_to_generator(function() {\n                        var preferredCalendar, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, entry;\n                        return _ts_generator(this, function(_state) {\n                            switch(_state.label){\n                                case 0:\n                                    return [\n                                        4,\n                                        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.getConfig)('@openmrs/esm-styleguide')\n                                    ];\n                                case 1:\n                                    preferredCalendar = _state.sent().preferredCalendar;\n                                    _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                                    try {\n                                        for(_iterator = Object.entries(preferredCalendar)[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                                            entry = _step.value;\n                                            (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.registerDefaultCalendar)(entry[0], entry[1]);\n                                        }\n                                    } catch (err) {\n                                        _didIteratorError = true;\n                                        _iteratorError = err;\n                                    } finally{\n                                        try {\n                                            if (!_iteratorNormalCompletion && _iterator.return != null) {\n                                                _iterator.return();\n                                            }\n                                        } finally{\n                                            if (_didIteratorError) {\n                                                throw _iteratorError;\n                                            }\n                                        }\n                                    }\n                                    return [\n                                        2\n                                    ];\n                            }\n                        });\n                    })();\n                }).then(function() {\n                    return (0,single_spa__WEBPACK_IMPORTED_MODULE_0__.start)();\n                })\n            ];\n        });\n    })();\n}\nfunction handleInitFailure(e) {\n    console.error(e);\n    renderFatalErrorPage(e);\n}\nfunction renderFatalErrorPage(e) {\n    var template = document.querySelector('#app-error');\n    if (template) {\n        var fragment = template.content.cloneNode(true);\n        var messageContainer = fragment.querySelector('[data-var=\"message\"]');\n        if (messageContainer) {\n            messageContainer.textContent = (e === null || e === void 0 ? void 0 : e.message) || 'No additional information available.';\n        }\n        if (localStorage.getItem('openmrs:devtools') && Object.keys(localStorage).some(function(k) {\n            return k.startsWith('import-map-override:');\n        })) {\n            var appErrorActionButtons = fragment === null || fragment === void 0 ? void 0 : fragment.querySelector('#buttons');\n            if (appErrorActionButtons) {\n                var clearDevOverridesButton = document.createElement('button');\n                clearDevOverridesButton.className = 'cds--btn';\n                clearDevOverridesButton.innerHTML = 'Clear dev overrides';\n                clearDevOverridesButton.onclick = clearDevOverrides;\n                appErrorActionButtons.appendChild(clearDevOverridesButton);\n            }\n        }\n        document.body.appendChild(fragment);\n    }\n}\nfunction clearDevOverrides() {\n    var keysToRemove = Object.keys(localStorage).filter(function(key) {\n        return key.startsWith('import-map-override:') && ![\n            'import-map-override:react',\n            'import-map-override:react-dom'\n        ].includes(key);\n    });\n    keysToRemove.forEach(function(key) {\n        return localStorage.removeItem(key);\n    });\n    location.reload();\n}\nfunction createConfigLoader(configUrls) {\n    var loadingConfigs = Promise.all(configUrls.map(function(configUrl) {\n        var interpolatedUrl = (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.interpolateUrl)(configUrl);\n        return fetch(interpolatedUrl).then(function(res) {\n            return res.json();\n        }).then(function(config) {\n            return {\n                name: configUrl,\n                value: config\n            };\n        }).catch(function(err) {\n            console.error('Loading the config from \"'.concat(configUrl, '\" failed.'), err);\n            return {\n                name: configUrl,\n                value: {}\n            };\n        });\n    }));\n    return function() {\n        return loadingConfigs.then(loadConfigs);\n    };\n}\nfunction showNotifications() {\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.renderInlineNotifications)(document.querySelector('.omrs-inline-notifications-container'));\n    return;\n}\nfunction showActionableNotifications() {\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.renderActionableNotifications)(document.querySelector('.omrs-actionable-notifications-container'));\n}\nfunction showToasts() {\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.renderToasts)(document.querySelector('.omrs-toasts-container'));\n}\nfunction showWorkspacesAndActionMenu() {\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.renderWorkspaceWindowsAndMenu)(document.querySelector('#omrs-workspaces-container'));\n}\nfunction showSnackbars() {\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.renderSnackbars)(document.querySelector('.omrs-snackbars-container'));\n}\nfunction showModals() {\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.setupModals)(document.querySelector('.omrs-modals-container'));\n}\nfunction showLoadingSpinner() {\n    return (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.renderLoadingSpinner)(document.body);\n}\n/**\n * Registers the extensions coming from the app shell itself.\n */ function registerCoreExtensions() {\n    var extensions = (0,_ui__WEBPACK_IMPORTED_MODULE_5__.getCoreExtensions)();\n    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n    try {\n        for(var _iterator = extensions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n            var extension = _step.value;\n            // FIXME This \"core extensions\" concept should likely be retired\n            (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.tryRegisterExtension)(_ui__WEBPACK_IMPORTED_MODULE_5__.appName, extension);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally{\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n            }\n        } finally{\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n}\nfunction setupOffline() {\n    return _async_to_generator(function() {\n        var error;\n        return _ts_generator(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    _state.trys.push([\n                        0,\n                        3,\n                        ,\n                        4\n                    ]);\n                    return [\n                        4,\n                        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.registerOmrsServiceWorker)(\"\".concat(window.getOpenmrsSpaBase(), \"service-worker.js\"))\n                    ];\n                case 1:\n                    _state.sent();\n                    return [\n                        4,\n                        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.activateOfflineCapability)()\n                    ];\n                case 2:\n                    _state.sent();\n                    setupOfflineStaticDependencyPrecaching();\n                    return [\n                        3,\n                        4\n                    ];\n                case 3:\n                    error = _state.sent();\n                    console.error('Error while setting up offline mode.', error);\n                    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.showNotification)({\n                        kind: 'error',\n                        title: 'Offline Setup Error',\n                        description: error.message\n                    });\n                    return [\n                        3,\n                        4\n                    ];\n                case 4:\n                    return [\n                        2\n                    ];\n            }\n        });\n    })();\n}\nfunction setupOfflineStaticDependencyPrecaching() {\n    var precacheDelay = 1000 * 60 * 5;\n    var lastPrecache = null;\n    subscribeOnlineAndLoginChange(function(online, hasLoggedInUser) {\n        var hasExceededPrecacheDelay = !lastPrecache || new Date().getTime() - lastPrecache.getTime() > precacheDelay;\n        if (hasLoggedInUser && online && hasExceededPrecacheDelay) {\n            lastPrecache = new Date();\n            (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.dispatchPrecacheStaticDependencies)();\n        }\n    });\n}\nfunction subscribeOnlineAndLoginChange(cb) {\n    var isOnline = false;\n    var hasLoggedInUser = false;\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.getCurrentUser)({\n        includeAuthStatus: false\n    }).subscribe(function(user) {\n        hasLoggedInUser = !!user;\n        cb(isOnline, hasLoggedInUser);\n    });\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.subscribeConnectivity)(function(param) {\n        var online = param.online;\n        isOnline = online;\n        cb(online, hasLoggedInUser);\n    });\n}\nfunction precacheGlobalStaticDependencies() {\n    return _async_to_generator(function() {\n        var sessionPathUrl;\n        return _ts_generator(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    return [\n                        4,\n                        precacheImportMap()\n                    ];\n                case 1:\n                    _state.sent();\n                    // By default, cache the session endpoint.\n                    // This ensures that a lot of user/session related functions also work offline.\n                    sessionPathUrl = new URL(\"\".concat(window.openmrsBase).concat(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.restBaseUrl, \"/session\"), window.location.origin).href;\n                    return [\n                        4,\n                        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.messageOmrsServiceWorker)({\n                            type: 'registerDynamicRoute',\n                            url: sessionPathUrl,\n                            strategy: 'network-first'\n                        })\n                    ];\n                case 2:\n                    _state.sent();\n                    return [\n                        4,\n                        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.openmrsFetch)(\"\".concat(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.restBaseUrl, \"/session\")).catch(function(e) {\n                            return console.warn('Failed to precache the user session data from the app shell. MFs depending on this data may run into problems while offline.', e);\n                        })\n                    ];\n                case 3:\n                    _state.sent();\n                    return [\n                        2\n                    ];\n            }\n        });\n    })();\n}\nfunction precacheImportMap() {\n    return _async_to_generator(function() {\n        var importMap;\n        return _ts_generator(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    return [\n                        4,\n                        window.importMapOverrides.getCurrentPageMap()\n                    ];\n                case 1:\n                    importMap = _state.sent();\n                    return [\n                        4,\n                        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.messageOmrsServiceWorker)({\n                            type: 'onImportMapChanged',\n                            importMap: importMap\n                        })\n                    ];\n                case 2:\n                    _state.sent();\n                    return [\n                        2\n                    ];\n            }\n        });\n    })();\n}\nfunction registerOfflineHandlers() {\n    window.addEventListener('offline', connectivityChanged);\n    window.addEventListener('online', connectivityChanged);\n}\nfunction setupOfflineCssClasses() {\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.subscribeConnectivity)(function(param) {\n        var online = param.online;\n        var body = document.querySelector('body');\n        if (online) {\n            body.classList.remove('omrs-offline');\n        } else {\n            body.classList.add('omrs-offline');\n        }\n    });\n}\nfunction run(configUrls) {\n    var offlineEnabled = window.offlineEnabled;\n    var closeLoading = showLoadingSpinner();\n    var provideConfigs = createConfigLoader(configUrls);\n    return Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_dayjs_plugin_isToday_js-node_modules_path-to-regexp_dist_es2015_index_js-c97e30\"), __webpack_require__.e(\"webpack_sharing_consume_default_react_react\"), __webpack_require__.e(\"webpack_sharing_consume_default_react-dom_react-dom\"), __webpack_require__.e(\"webpack_sharing_consume_default_carbon_react_carbon_react\"), __webpack_require__.e(\"webpack_sharing_consume_default_swr__internal_swr__internal-framework_esm-react-utils_dist_Ex-f1e01a\"), __webpack_require__.e(\"framework_esm-styleguide_src_index_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! @openmrs/esm-styleguide/src/index */ \"../../framework/esm-styleguide/src/index.ts\")).then(function() {\n        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.integrateBreakpoints)();\n        showToasts();\n        showModals();\n        showNotifications();\n        showActionableNotifications();\n        showSnackbars();\n        showWorkspacesAndActionMenu();\n        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.subscribeNotificationShown)(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.showNotification);\n        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.subscribeActionableNotificationShown)(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.showActionableNotification);\n        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.subscribeToastShown)(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.showToast);\n        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.subscribeSnackbarShown)(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.showSnackbar);\n        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.subscribePrecacheStaticDependencies)(precacheGlobalStaticDependencies);\n        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.setupApiModule)();\n        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.setupHistory)();\n        registerCoreExtensions();\n        (0,_core_config__WEBPACK_IMPORTED_MODULE_6__.setupCoreConfig)();\n        return setupApps().then(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.finishRegisteringAllApps).then(offlineEnabled ? setupOfflineCssClasses : undefined).then(offlineEnabled ? registerOfflineHandlers : undefined).then(provideConfigs).then(runShell).catch(handleInitFailure).then(closeLoading).then(offlineEnabled ? setupOffline : undefined).then(function() {\n            // intentionally not returned so that processing the \"started\" event doesn't block\n            (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.fireOpenmrsEvent)('started');\n        });\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNqRSxJQUFJLENBQUM7UUFDdERyRSx5RkFBb0JBO1FBQ3BCK0k7UUFDQUc7UUFDQUw7UUFDQUM7UUFDQUc7UUFDQUQ7UUFDQXJILCtGQUEwQkEsQ0FBQ0wsaUZBQWdCQTtRQUMzQ0cseUdBQW9DQSxDQUFDSiwyRkFBMEJBO1FBQy9EUyx3RkFBbUJBLENBQUNOLDBFQUFTQTtRQUM3QkssMkZBQXNCQSxDQUFDTiw2RUFBWUE7UUFDbkNLLHdHQUFtQ0EsQ0FBQzBJO1FBQ3BDcEosbUZBQWNBO1FBQ2RDLGlGQUFZQTtRQUNaaUk7UUFDQWpILDZEQUFlQTtRQUVmLE9BQU9HLFlBQ0orQixJQUFJLENBQUN6RSx5RkFBd0JBLEVBQzdCeUUsSUFBSSxDQUFDeUIsaUJBQWlCdUYseUJBQXlCakksV0FDL0NpQixJQUFJLENBQUN5QixpQkFBaUJxRiwwQkFBMEIvSCxXQUNoRGlCLElBQUksQ0FBQ3NILGdCQUNMdEgsSUFBSSxDQUFDaUMsVUFDTDlCLEtBQUssQ0FBQ2tDLG1CQUNOckMsSUFBSSxDQUFDcUgsY0FDTHJILElBQUksQ0FBQ3lCLGlCQUFpQnlELGVBQWVuRyxXQUNyQ2lCLElBQUksQ0FBQztZQUNKLGtGQUFrRjtZQUNsRnhFLHFGQUFnQkEsQ0FBQztRQUNuQjtJQUNKO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab3Blbm1ycy9lc20tYXBwLXNoZWxsLy4vc3JjL3J1bi50cz9iYzI2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0YXJ0LCB0cmlnZ2VyQXBwQ2hhbmdlIH0gZnJvbSAnc2luZ2xlLXNwYSc7XG5pbXBvcnQgeyB0eXBlIENhbGVuZGFySWRlbnRpZmllciB9IGZyb20gJ0BpbnRlcm5hdGlvbmFsaXplZC9kYXRlJztcbmltcG9ydCB7XG4gIGFjdGl2YXRlT2ZmbGluZUNhcGFiaWxpdHksXG4gIGNhbkFjY2Vzc1N0b3JhZ2UsXG4gIGRpc3BhdGNoQ29ubmVjdGl2aXR5Q2hhbmdlZCxcbiAgZGlzcGF0Y2hQcmVjYWNoZVN0YXRpY0RlcGVuZGVuY2llcyxcbiAgdHlwZSBFeHRlbnNpb25EZWZpbml0aW9uLFxuICBmaW5pc2hSZWdpc3RlcmluZ0FsbEFwcHMsXG4gIGZpcmVPcGVubXJzRXZlbnQsXG4gIGdldENvbmZpZyxcbiAgZ2V0Q3VycmVudFVzZXIsXG4gIGludGVncmF0ZUJyZWFrcG9pbnRzLFxuICBpbnRlcnBvbGF0ZVVybCxcbiAgaXNPcGVubXJzQXBwUm91dGVzLFxuICBpc09wZW5tcnNSb3V0ZXMsXG4gIGxvY2FsU3RvcmFnZVJvdXRlc1ByZWZpeCxcbiAgbWVzc2FnZU9tcnNTZXJ2aWNlV29ya2VyLFxuICBvcGVubXJzRmV0Y2gsXG4gIHByb3ZpZGUsXG4gIHJlZ2lzdGVyQXBwLFxuICByZWdpc3RlckRlZmF1bHRDYWxlbmRhcixcbiAgcmVnaXN0ZXJPbXJzU2VydmljZVdvcmtlcixcbiAgcmVuZGVyQWN0aW9uYWJsZU5vdGlmaWNhdGlvbnMsXG4gIHJlbmRlcklubGluZU5vdGlmaWNhdGlvbnMsXG4gIHJlbmRlckxvYWRpbmdTcGlubmVyLFxuICByZW5kZXJTbmFja2JhcnMsXG4gIHJlbmRlclRvYXN0cyxcbiAgcmVuZGVyV29ya3NwYWNlV2luZG93c0FuZE1lbnUsXG4gIHJlc3RCYXNlVXJsLFxuICBzZXR1cEFwaU1vZHVsZSxcbiAgc2V0dXBIaXN0b3J5LFxuICBzZXR1cE1vZGFscyxcbiAgc2hvd0FjdGlvbmFibGVOb3RpZmljYXRpb24sXG4gIHNob3dOb3RpZmljYXRpb24sXG4gIHNob3dTbmFja2JhcixcbiAgc2hvd1RvYXN0LFxuICBzdWJzY3JpYmVBY3Rpb25hYmxlTm90aWZpY2F0aW9uU2hvd24sXG4gIHN1YnNjcmliZUNvbm5lY3Rpdml0eSxcbiAgc3Vic2NyaWJlTm90aWZpY2F0aW9uU2hvd24sXG4gIHN1YnNjcmliZVByZWNhY2hlU3RhdGljRGVwZW5kZW5jaWVzLFxuICBzdWJzY3JpYmVTbmFja2JhclNob3duLFxuICBzdWJzY3JpYmVUb2FzdFNob3duLFxuICB0cnlSZWdpc3RlckV4dGVuc2lvbixcbiAgdHlwZSBDb25maWcsXG4gIHR5cGUgT3Blbm1yc0FwcFJvdXRlcyxcbiAgdHlwZSBPcGVubXJzUm91dGVzLFxuICB0eXBlIFN0eWxlZ3VpZGVDb25maWdPYmplY3QsXG59IGZyb20gJ0BvcGVubXJzL2VzbS1mcmFtZXdvcmsvc3JjL2ludGVybmFsJztcbmltcG9ydCB7IHNldHVwSTE4biB9IGZyb20gJy4vbG9jYWxlJztcbmltcG9ydCAnLi9yb3V0aW5nLWV2ZW50cyc7XG5pbXBvcnQgJy4vZXZlbnRzJztcbmltcG9ydCB7IGFwcE5hbWUsIGdldENvcmVFeHRlbnNpb25zIH0gZnJvbSAnLi91aSc7XG5pbXBvcnQgeyBzZXR1cENvcmVDb25maWcgfSBmcm9tICcuL2NvcmUtY29uZmlnJztcblxuLy8gQGludGVybmFsXG4vLyB1c2VkIHRvIHRyYWNrIHdoZW4gdGhlIHdpbmRvdy5pbnN0YWxsZWRNb2R1bGVzIGdsb2JhbCBpcyBmaW5hbGlzZWRcbi8vIHNvIHdlIGNhbiBwcmUtbG9hZCBhbGwgbW9kdWxlc1xuY29uc3QgUkVHSVNUUkFUSU9OX1BST01JU0VTID0gU3ltYm9sKCdvcGVubXJzX3JlZ2lzdHJhdGlvbl9wcm9taXNlcycpO1xuXG4vKipcbiAqIFNldHMgdXAgdGhlIGZyb250ZW5kIG1vZHVsZXMgKGFwcHMpLiBVc2VzIHRoZSBkZWZpbmVkIGV4cG9ydFxuICogZnJvbSB0aGUgcm9vdCBtb2R1bGVzIG9mIHRoZSBhcHBzLiBUaGlzIGlzIGRvbmUgYnkgcmVhZGluZyB0aGVcbiAqIGxpc3Qgb2YgYXBwcyBmcm9tIHRoZSByb3V0ZXMucmVnaXN0cnkuanNvbiBmaWxlLCB3aGljaCBzZXJ2ZXNcbiAqIGFzIHRoZSByZWdpc3RyeSBvZiBhbGwgYXBwcyBpbiB0aGUgYXBwbGljYXRpb24uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNldHVwQXBwcygpIHtcbiAgY29uc3Qgc2NyaXB0VGFncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTFNjcmlwdEVsZW1lbnQ+KFwic2NyaXB0W3R5cGU9J29wZW5tcnMtcm91dGVzJ11cIik7XG5cbiAgY29uc3QgcHJvbWlzZXM6IEFycmF5PFByb21pc2U8T3Blbm1yc1JvdXRlcz4+ID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2NyaXB0VGFncy5sZW5ndGg7IGkrKykge1xuICAgIHByb21pc2VzLnB1c2goXG4gICAgICAoYXN5bmMgKHNjcmlwdFRhZykgPT4ge1xuICAgICAgICBsZXQgcm91dGVzOiBPcGVubXJzUm91dGVzIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChzY3JpcHRUYWcudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgIHJvdXRlcyA9IEpTT04ucGFyc2Uoc2NyaXB0VGFnLnRleHRDb250ZW50KSBhcyBPcGVubXJzUm91dGVzO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2NyaXB0VGFnLnNyYykge1xuICAgICAgICAgICAgcm91dGVzID0gKGF3YWl0IG9wZW5tcnNGZXRjaDxPcGVubXJzUm91dGVzPihzY3JpcHRUYWcuc3JjKSkuZGF0YTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBDYXVnaHQgZXJyb3Igd2hpbGUgbG9hZGluZyByb3V0ZXMgZnJvbSAke3NjcmlwdFRhZy5zcmMgPz8gJ0pTT04gc2NyaXB0IHRhZyBjb250ZW50J31gLCBlKTtcblxuICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocm91dGVzID8/IHt9KTtcbiAgICAgIH0pKHNjcmlwdFRhZ3MuaXRlbShpKSksXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjYW5BY2Nlc3NTdG9yYWdlKCkpIHtcbiAgICAvLyBsb2FkIHJvdXRlcyBvdmVycmlkZXMgZnJvbSBsb2NhbFN0b3JhZ2UgaWYgYW55XG4gICAgY29uc3QgbG9jYWxTdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsU3RvcmFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcbiAgICAgIGlmIChrZXk/LnN0YXJ0c1dpdGgobG9jYWxTdG9yYWdlUm91dGVzUHJlZml4KSkge1xuICAgICAgICBjb25zdCBsb2NhbE92ZXJyaWRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgaWYgKGxvY2FsT3ZlcnJpZGUpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbWF5YmVPcGVubXJzUm91dGVzID0gSlNPTi5wYXJzZShsb2NhbE92ZXJyaWRlKTtcbiAgICAgICAgICAgIGlmIChpc09wZW5tcnNBcHBSb3V0ZXMobWF5YmVPcGVubXJzUm91dGVzKSkge1xuICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZTxPcGVubXJzUm91dGVzPih7XG4gICAgICAgICAgICAgICAgICBba2V5LnNsaWNlKGxvY2FsU3RvcmFnZVJvdXRlc1ByZWZpeC5sZW5ndGgpXTogbWF5YmVPcGVubXJzUm91dGVzLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbWF5YmVPcGVubXJzUm91dGVzID09PSAnc3RyaW5nJyAmJiBtYXliZU9wZW5tcnNSb3V0ZXMuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgICAgICAgb3Blbm1yc0ZldGNoPE9wZW5tcnNBcHBSb3V0ZXM+KG1heWJlT3Blbm1yc1JvdXRlcylcbiAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPcGVubXJzQXBwUm91dGVzKHJlc3BvbnNlLmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBba2V5LnNsaWNlKGxvY2FsU3RvcmFnZVJvdXRlc1ByZWZpeC5sZW5ndGgpXTogcmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICAgICAgICAgICAgICBgJHttYXliZU9wZW5tcnNSb3V0ZXN9IGRpZCBub3QgcmVzb2x2ZSB0byBhIHZhbGlkIE9wZW5tcnNBcHBSb3V0ZXMgSlNPTiBvYmplY3RgLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIC5jYXRjaCgocmVhc29uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAgICAgICBgRmFpbGVkIHRvIGZldGNoIHJvdXRlIG92ZXJyaWRlcyBmb3IgJHtrZXkuc2xpY2UobG9jYWxTdG9yYWdlUm91dGVzUHJlZml4Lmxlbmd0aCl9YCxcbiAgICAgICAgICAgICAgICAgICAgICByZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gc3RpbGwgZmFpbCB0aGUgcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICBgUm91dGUgb3ZlcnJpZGUgZm9yICR7a2V5LnNsaWNlKFxuICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlUm91dGVzUHJlZml4Lmxlbmd0aCxcbiAgICAgICAgICAgICAgICApfSBjb3VsZCBub3QgYmUgaGFuZGxlZCBhcyBpdCB3YXMgbmVpdGhlciBhIEpTT04gb2JqZWN0IG5vciBhIFVSTCBzdHJpbmdgLFxuICAgICAgICAgICAgICAgIGxvY2FsT3ZlcnJpZGUsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgcGFyc2luZyBsb2NhbCByb3V0ZSBvdmVycmlkZSBmb3IgJHtrZXl9YCwgZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgcm91dGVzOiBPcGVubXJzUm91dGVzID0gKGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChwcm9taXNlcykpXG4gICAgLmZpbHRlcigocCkgPT4gcC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKVxuICAgIC5tYXAoKHApID0+IChwIGFzIFByb21pc2VGdWxmaWxsZWRSZXN1bHQ8T3Blbm1yc1JvdXRlcz4pLnZhbHVlKVxuICAgIC5maWx0ZXIoaXNPcGVubXJzUm91dGVzKVxuICAgIC5yZWR1Y2UoXG4gICAgICAoYWNjdW11bGF0ZWRSb3V0ZXMsIHJvdXRlcykgPT4gKHtcbiAgICAgICAgLi4uYWNjdW11bGF0ZWRSb3V0ZXMsXG4gICAgICAgIC4uLnJvdXRlcyxcbiAgICAgIH0pLFxuICAgICAge30sXG4gICAgKTtcblxuICBjb25zdCBtb2R1bGVzOiB0eXBlb2Ygd2luZG93Lmluc3RhbGxlZE1vZHVsZXMgPSBbXTtcbiAgY29uc3QgcmVnaXN0cmF0aW9uUHJvbWlzZXMgPSBPYmplY3QuZW50cmllcyhyb3V0ZXMpLm1hcChhc3luYyAoW21vZHVsZSwgcm91dGVzXSkgPT4ge1xuICAgIG1vZHVsZXMucHVzaChbbW9kdWxlLCByb3V0ZXNdKTtcbiAgICByZWdpc3RlckFwcChtb2R1bGUsIHJvdXRlcyk7XG4gIH0pO1xuXG4gIHdpbmRvd1tSRUdJU1RSQVRJT05fUFJPTUlTRVNdID0gUHJvbWlzZS5hbGwocmVnaXN0cmF0aW9uUHJvbWlzZXMpO1xuICB3aW5kb3cuaW5zdGFsbGVkTW9kdWxlcyA9IG1vZHVsZXM7XG59XG5cbi8qKlxuICogTG9hZHMgdGhlIHByb3ZpZGVkIGNvbmZpZ3VyYXRpb25zIGFuZCBzZXRzIHRoZW0gaW4gdGhlIHN5c3RlbS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gbG9hZENvbmZpZ3MoY29uZmlnczogQXJyYXk8eyBuYW1lOiBzdHJpbmc7IHZhbHVlOiBDb25maWcgfT4pIHtcbiAgZm9yIChjb25zdCBjb25maWcgb2YgY29uZmlncykge1xuICAgIHByb3ZpZGUoY29uZmlnLnZhbHVlLCBjb25maWcubmFtZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBJbnZva2VkIHdoZW4gdGhlIGNvbm5lY3Rpdml0eSBpcyBjaGFuZ2VkLlxuICovXG5mdW5jdGlvbiBjb25uZWN0aXZpdHlDaGFuZ2VkKCkge1xuICBpZiAoIXdpbmRvdy5vZmZsaW5lRW5hYmxlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG9ubGluZSA9IG5hdmlnYXRvci5vbkxpbmU7XG4gIC8vIE5CIFdlIGRvIG5vdCB3YWl0IGZvciB0aGlzIHRvIGJlIGRvbmU7IGl0IGlzIHNpbXBseSBzY2hlZHVsZWRcbiAgdHJpZ2dlckFwcENoYW5nZSgpO1xuXG4gIGRpc3BhdGNoQ29ubmVjdGl2aXR5Q2hhbmdlZChvbmxpbmUpO1xuICBzaG93VG9hc3Qoe1xuICAgIGNyaXRpY2FsOiB0cnVlLFxuICAgIGRlc2NyaXB0aW9uOiBgQ29ubmVjdGlvbjogJHtvbmxpbmUgPyAnb25saW5lJyA6ICdvZmZsaW5lJ31gLFxuICAgIHRpdGxlOiAnQXBwJyxcbiAgICBraW5kOiBvbmxpbmUgPyAnc3VjY2VzcycgOiAnd2FybmluZycsXG4gIH0pO1xufVxuXG4vKipcbiAqIFJ1bnMgdGhlIHNoZWxsIGJ5IGltcG9ydGluZyB0aGUgdHJhbnNsYXRpb25zIGFuZCBzdGFydGluZyBzaW5nbGUgU1BBLlxuICovXG5hc3luYyBmdW5jdGlvbiBydW5TaGVsbCgpIHtcbiAgcmV0dXJuIHNldHVwSTE4bigpXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBpbml0aWFsaXplIHRyYW5zbGF0aW9uc2AsIGVycikpXG4gICAgLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBwcmVmZXJyZWRDYWxlbmRhciB9ID0gYXdhaXQgZ2V0Q29uZmlnPFN0eWxlZ3VpZGVDb25maWdPYmplY3Q+KCdAb3Blbm1ycy9lc20tc3R5bGVndWlkZScpO1xuXG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIE9iamVjdC5lbnRyaWVzKHByZWZlcnJlZENhbGVuZGFyKSkge1xuICAgICAgICByZWdpc3RlckRlZmF1bHRDYWxlbmRhcihlbnRyeVswXSwgZW50cnlbMV0gYXMgQ2FsZW5kYXJJZGVudGlmaWVyKTtcbiAgICAgIH1cbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHN0YXJ0KCkpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVJbml0RmFpbHVyZShlOiBFcnJvcikge1xuICBjb25zb2xlLmVycm9yKGUpO1xuICByZW5kZXJGYXRhbEVycm9yUGFnZShlKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyRmF0YWxFcnJvclBhZ2UoZT86IEVycm9yKSB7XG4gIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MVGVtcGxhdGVFbGVtZW50PignI2FwcC1lcnJvcicpO1xuXG4gIGlmICh0ZW1wbGF0ZSkge1xuICAgIGNvbnN0IGZyYWdtZW50ID0gdGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkgYXMgRG9jdW1lbnRGcmFnbWVudDtcbiAgICBjb25zdCBtZXNzYWdlQ29udGFpbmVyID0gZnJhZ21lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdmFyPVwibWVzc2FnZVwiXScpO1xuXG4gICAgaWYgKG1lc3NhZ2VDb250YWluZXIpIHtcbiAgICAgIG1lc3NhZ2VDb250YWluZXIudGV4dENvbnRlbnQgPSBlPy5tZXNzYWdlIHx8ICdObyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGF2YWlsYWJsZS4nO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvcGVubXJzOmRldnRvb2xzJykgJiZcbiAgICAgIE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkuc29tZSgoaykgPT4gay5zdGFydHNXaXRoKCdpbXBvcnQtbWFwLW92ZXJyaWRlOicpKVxuICAgICkge1xuICAgICAgY29uc3QgYXBwRXJyb3JBY3Rpb25CdXR0b25zID0gZnJhZ21lbnQ/LnF1ZXJ5U2VsZWN0b3IoJyNidXR0b25zJyk7XG4gICAgICBpZiAoYXBwRXJyb3JBY3Rpb25CdXR0b25zKSB7XG4gICAgICAgIGNvbnN0IGNsZWFyRGV2T3ZlcnJpZGVzQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGNsZWFyRGV2T3ZlcnJpZGVzQnV0dG9uLmNsYXNzTmFtZSA9ICdjZHMtLWJ0bic7XG4gICAgICAgIGNsZWFyRGV2T3ZlcnJpZGVzQnV0dG9uLmlubmVySFRNTCA9ICdDbGVhciBkZXYgb3ZlcnJpZGVzJztcbiAgICAgICAgY2xlYXJEZXZPdmVycmlkZXNCdXR0b24ub25jbGljayA9IGNsZWFyRGV2T3ZlcnJpZGVzO1xuICAgICAgICBhcHBFcnJvckFjdGlvbkJ1dHRvbnMuYXBwZW5kQ2hpbGQoY2xlYXJEZXZPdmVycmlkZXNCdXR0b24pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNsZWFyRGV2T3ZlcnJpZGVzKCkge1xuICBjb25zdCBrZXlzVG9SZW1vdmUgPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmZpbHRlcihcbiAgICAoa2V5KSA9PlxuICAgICAga2V5LnN0YXJ0c1dpdGgoJ2ltcG9ydC1tYXAtb3ZlcnJpZGU6JykgJiZcbiAgICAgICFbJ2ltcG9ydC1tYXAtb3ZlcnJpZGU6cmVhY3QnLCAnaW1wb3J0LW1hcC1vdmVycmlkZTpyZWFjdC1kb20nXS5pbmNsdWRlcyhrZXkpLFxuICApO1xuICBrZXlzVG9SZW1vdmUuZm9yRWFjaCgoa2V5KSA9PiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpKTtcbiAgbG9jYXRpb24ucmVsb2FkKCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbmZpZ0xvYWRlcihjb25maWdVcmxzOiBBcnJheTxzdHJpbmc+KSB7XG4gIGNvbnN0IGxvYWRpbmdDb25maWdzID0gUHJvbWlzZS5hbGwoXG4gICAgY29uZmlnVXJscy5tYXAoKGNvbmZpZ1VybCkgPT4ge1xuICAgICAgY29uc3QgaW50ZXJwb2xhdGVkVXJsID0gaW50ZXJwb2xhdGVVcmwoY29uZmlnVXJsKTtcbiAgICAgIHJldHVybiBmZXRjaChpbnRlcnBvbGF0ZWRVcmwpXG4gICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgIC50aGVuKChjb25maWcpID0+ICh7XG4gICAgICAgICAgbmFtZTogY29uZmlnVXJsLFxuICAgICAgICAgIHZhbHVlOiBjb25maWcsXG4gICAgICAgIH0pKVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYExvYWRpbmcgdGhlIGNvbmZpZyBmcm9tIFwiJHtjb25maWdVcmx9XCIgZmFpbGVkLmAsIGVycik7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IGNvbmZpZ1VybCxcbiAgICAgICAgICAgIHZhbHVlOiB7fSxcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9KSxcbiAgKTtcbiAgcmV0dXJuICgpID0+IGxvYWRpbmdDb25maWdzLnRoZW4obG9hZENvbmZpZ3MpO1xufVxuXG5mdW5jdGlvbiBzaG93Tm90aWZpY2F0aW9ucygpIHtcbiAgcmVuZGVySW5saW5lTm90aWZpY2F0aW9ucyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub21ycy1pbmxpbmUtbm90aWZpY2F0aW9ucy1jb250YWluZXInKSk7XG4gIHJldHVybjtcbn1cblxuZnVuY3Rpb24gc2hvd0FjdGlvbmFibGVOb3RpZmljYXRpb25zKCkge1xuICByZW5kZXJBY3Rpb25hYmxlTm90aWZpY2F0aW9ucyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub21ycy1hY3Rpb25hYmxlLW5vdGlmaWNhdGlvbnMtY29udGFpbmVyJykpO1xufVxuXG5mdW5jdGlvbiBzaG93VG9hc3RzKCkge1xuICByZW5kZXJUb2FzdHMoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9tcnMtdG9hc3RzLWNvbnRhaW5lcicpKTtcbn1cblxuZnVuY3Rpb24gc2hvd1dvcmtzcGFjZXNBbmRBY3Rpb25NZW51KCkge1xuICByZW5kZXJXb3Jrc3BhY2VXaW5kb3dzQW5kTWVudShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb21ycy13b3Jrc3BhY2VzLWNvbnRhaW5lcicpKTtcbn1cblxuZnVuY3Rpb24gc2hvd1NuYWNrYmFycygpIHtcbiAgcmVuZGVyU25hY2tiYXJzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vbXJzLXNuYWNrYmFycy1jb250YWluZXInKSk7XG59XG5cbmZ1bmN0aW9uIHNob3dNb2RhbHMoKSB7XG4gIHNldHVwTW9kYWxzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vbXJzLW1vZGFscy1jb250YWluZXInKSk7XG59XG5cbmZ1bmN0aW9uIHNob3dMb2FkaW5nU3Bpbm5lcigpIHtcbiAgcmV0dXJuIHJlbmRlckxvYWRpbmdTcGlubmVyKGRvY3VtZW50LmJvZHkpO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyB0aGUgZXh0ZW5zaW9ucyBjb21pbmcgZnJvbSB0aGUgYXBwIHNoZWxsIGl0c2VsZi5cbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJDb3JlRXh0ZW5zaW9ucygpIHtcbiAgY29uc3QgZXh0ZW5zaW9ucyA9IGdldENvcmVFeHRlbnNpb25zKCk7XG4gIGZvciAoY29uc3QgZXh0ZW5zaW9uIG9mIGV4dGVuc2lvbnMpIHtcbiAgICAvLyBGSVhNRSBUaGlzIFwiY29yZSBleHRlbnNpb25zXCIgY29uY2VwdCBzaG91bGQgbGlrZWx5IGJlIHJldGlyZWRcbiAgICB0cnlSZWdpc3RlckV4dGVuc2lvbihhcHBOYW1lLCBleHRlbnNpb24gYXMgdW5rbm93biBhcyBFeHRlbnNpb25EZWZpbml0aW9uKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBzZXR1cE9mZmxpbmUoKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgcmVnaXN0ZXJPbXJzU2VydmljZVdvcmtlcihgJHt3aW5kb3cuZ2V0T3Blbm1yc1NwYUJhc2UoKX1zZXJ2aWNlLXdvcmtlci5qc2ApO1xuICAgIGF3YWl0IGFjdGl2YXRlT2ZmbGluZUNhcGFiaWxpdHkoKTtcbiAgICBzZXR1cE9mZmxpbmVTdGF0aWNEZXBlbmRlbmN5UHJlY2FjaGluZygpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHdoaWxlIHNldHRpbmcgdXAgb2ZmbGluZSBtb2RlLicsIGVycm9yKTtcbiAgICBzaG93Tm90aWZpY2F0aW9uKHtcbiAgICAgIGtpbmQ6ICdlcnJvcicsXG4gICAgICB0aXRsZTogJ09mZmxpbmUgU2V0dXAgRXJyb3InLFxuICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UsXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0dXBPZmZsaW5lU3RhdGljRGVwZW5kZW5jeVByZWNhY2hpbmcoKSB7XG4gIGNvbnN0IHByZWNhY2hlRGVsYXkgPSAxMDAwICogNjAgKiA1O1xuICBsZXQgbGFzdFByZWNhY2hlOiBEYXRlIHwgbnVsbCA9IG51bGw7XG5cbiAgc3Vic2NyaWJlT25saW5lQW5kTG9naW5DaGFuZ2UoKG9ubGluZSwgaGFzTG9nZ2VkSW5Vc2VyKSA9PiB7XG4gICAgY29uc3QgaGFzRXhjZWVkZWRQcmVjYWNoZURlbGF5ID0gIWxhc3RQcmVjYWNoZSB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGxhc3RQcmVjYWNoZS5nZXRUaW1lKCkgPiBwcmVjYWNoZURlbGF5O1xuXG4gICAgaWYgKGhhc0xvZ2dlZEluVXNlciAmJiBvbmxpbmUgJiYgaGFzRXhjZWVkZWRQcmVjYWNoZURlbGF5KSB7XG4gICAgICBsYXN0UHJlY2FjaGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgZGlzcGF0Y2hQcmVjYWNoZVN0YXRpY0RlcGVuZGVuY2llcygpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHN1YnNjcmliZU9ubGluZUFuZExvZ2luQ2hhbmdlKGNiOiAob25saW5lOiBib29sZWFuLCBoYXNMb2dnZWRJblVzZXI6IGJvb2xlYW4pID0+IHZvaWQpIHtcbiAgbGV0IGlzT25saW5lID0gZmFsc2U7XG4gIGxldCBoYXNMb2dnZWRJblVzZXIgPSBmYWxzZTtcblxuICBnZXRDdXJyZW50VXNlcih7IGluY2x1ZGVBdXRoU3RhdHVzOiBmYWxzZSB9KS5zdWJzY3JpYmUoKHVzZXIpID0+IHtcbiAgICBoYXNMb2dnZWRJblVzZXIgPSAhIXVzZXI7XG4gICAgY2IoaXNPbmxpbmUsIGhhc0xvZ2dlZEluVXNlcik7XG4gIH0pO1xuXG4gIHN1YnNjcmliZUNvbm5lY3Rpdml0eSgoeyBvbmxpbmUgfSkgPT4ge1xuICAgIGlzT25saW5lID0gb25saW5lO1xuICAgIGNiKG9ubGluZSwgaGFzTG9nZ2VkSW5Vc2VyKTtcbiAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHByZWNhY2hlR2xvYmFsU3RhdGljRGVwZW5kZW5jaWVzKCkge1xuICBhd2FpdCBwcmVjYWNoZUltcG9ydE1hcCgpO1xuXG4gIC8vIEJ5IGRlZmF1bHQsIGNhY2hlIHRoZSBzZXNzaW9uIGVuZHBvaW50LlxuICAvLyBUaGlzIGVuc3VyZXMgdGhhdCBhIGxvdCBvZiB1c2VyL3Nlc3Npb24gcmVsYXRlZCBmdW5jdGlvbnMgYWxzbyB3b3JrIG9mZmxpbmUuXG4gIGNvbnN0IHNlc3Npb25QYXRoVXJsID0gbmV3IFVSTChgJHt3aW5kb3cub3Blbm1yc0Jhc2V9JHtyZXN0QmFzZVVybH0vc2Vzc2lvbmAsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pLmhyZWY7XG5cbiAgYXdhaXQgbWVzc2FnZU9tcnNTZXJ2aWNlV29ya2VyKHtcbiAgICB0eXBlOiAncmVnaXN0ZXJEeW5hbWljUm91dGUnLFxuICAgIHVybDogc2Vzc2lvblBhdGhVcmwsXG4gICAgc3RyYXRlZ3k6ICduZXR3b3JrLWZpcnN0JyxcbiAgfSk7XG5cbiAgYXdhaXQgb3Blbm1yc0ZldGNoKGAke3Jlc3RCYXNlVXJsfS9zZXNzaW9uYCkuY2F0Y2goKGUpID0+XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgJ0ZhaWxlZCB0byBwcmVjYWNoZSB0aGUgdXNlciBzZXNzaW9uIGRhdGEgZnJvbSB0aGUgYXBwIHNoZWxsLiBNRnMgZGVwZW5kaW5nIG9uIHRoaXMgZGF0YSBtYXkgcnVuIGludG8gcHJvYmxlbXMgd2hpbGUgb2ZmbGluZS4nLFxuICAgICAgZSxcbiAgICApLFxuICApO1xufVxuXG5hc3luYyBmdW5jdGlvbiBwcmVjYWNoZUltcG9ydE1hcCgpIHtcbiAgY29uc3QgaW1wb3J0TWFwID0gYXdhaXQgd2luZG93LmltcG9ydE1hcE92ZXJyaWRlcy5nZXRDdXJyZW50UGFnZU1hcCgpO1xuICBhd2FpdCBtZXNzYWdlT21yc1NlcnZpY2VXb3JrZXIoe1xuICAgIHR5cGU6ICdvbkltcG9ydE1hcENoYW5nZWQnLFxuICAgIGltcG9ydE1hcCxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyT2ZmbGluZUhhbmRsZXJzKCkge1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIGNvbm5lY3Rpdml0eUNoYW5nZWQpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgY29ubmVjdGl2aXR5Q2hhbmdlZCk7XG59XG5cbmZ1bmN0aW9uIHNldHVwT2ZmbGluZUNzc0NsYXNzZXMoKSB7XG4gIHN1YnNjcmliZUNvbm5lY3Rpdml0eSgoeyBvbmxpbmUgfSkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykhO1xuICAgIGlmIChvbmxpbmUpIHtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb21ycy1vZmZsaW5lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZCgnb21ycy1vZmZsaW5lJyk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bihjb25maWdVcmxzOiBBcnJheTxzdHJpbmc+KSB7XG4gIGNvbnN0IG9mZmxpbmVFbmFibGVkID0gd2luZG93Lm9mZmxpbmVFbmFibGVkO1xuICBjb25zdCBjbG9zZUxvYWRpbmcgPSBzaG93TG9hZGluZ1NwaW5uZXIoKTtcbiAgY29uc3QgcHJvdmlkZUNvbmZpZ3MgPSBjcmVhdGVDb25maWdMb2FkZXIoY29uZmlnVXJscyk7XG5cbiAgcmV0dXJuIGltcG9ydCgnQG9wZW5tcnMvZXNtLXN0eWxlZ3VpZGUvc3JjL2luZGV4JykudGhlbigoKSA9PiB7XG4gICAgaW50ZWdyYXRlQnJlYWtwb2ludHMoKTtcbiAgICBzaG93VG9hc3RzKCk7XG4gICAgc2hvd01vZGFscygpO1xuICAgIHNob3dOb3RpZmljYXRpb25zKCk7XG4gICAgc2hvd0FjdGlvbmFibGVOb3RpZmljYXRpb25zKCk7XG4gICAgc2hvd1NuYWNrYmFycygpO1xuICAgIHNob3dXb3Jrc3BhY2VzQW5kQWN0aW9uTWVudSgpO1xuICAgIHN1YnNjcmliZU5vdGlmaWNhdGlvblNob3duKHNob3dOb3RpZmljYXRpb24pO1xuICAgIHN1YnNjcmliZUFjdGlvbmFibGVOb3RpZmljYXRpb25TaG93bihzaG93QWN0aW9uYWJsZU5vdGlmaWNhdGlvbik7XG4gICAgc3Vic2NyaWJlVG9hc3RTaG93bihzaG93VG9hc3QpO1xuICAgIHN1YnNjcmliZVNuYWNrYmFyU2hvd24oc2hvd1NuYWNrYmFyKTtcbiAgICBzdWJzY3JpYmVQcmVjYWNoZVN0YXRpY0RlcGVuZGVuY2llcyhwcmVjYWNoZUdsb2JhbFN0YXRpY0RlcGVuZGVuY2llcyk7XG4gICAgc2V0dXBBcGlNb2R1bGUoKTtcbiAgICBzZXR1cEhpc3RvcnkoKTtcbiAgICByZWdpc3RlckNvcmVFeHRlbnNpb25zKCk7XG4gICAgc2V0dXBDb3JlQ29uZmlnKCk7XG5cbiAgICByZXR1cm4gc2V0dXBBcHBzKClcbiAgICAgIC50aGVuKGZpbmlzaFJlZ2lzdGVyaW5nQWxsQXBwcylcbiAgICAgIC50aGVuKG9mZmxpbmVFbmFibGVkID8gc2V0dXBPZmZsaW5lQ3NzQ2xhc3NlcyA6IHVuZGVmaW5lZClcbiAgICAgIC50aGVuKG9mZmxpbmVFbmFibGVkID8gcmVnaXN0ZXJPZmZsaW5lSGFuZGxlcnMgOiB1bmRlZmluZWQpXG4gICAgICAudGhlbihwcm92aWRlQ29uZmlncylcbiAgICAgIC50aGVuKHJ1blNoZWxsKVxuICAgICAgLmNhdGNoKGhhbmRsZUluaXRGYWlsdXJlKVxuICAgICAgLnRoZW4oY2xvc2VMb2FkaW5nKVxuICAgICAgLnRoZW4ob2ZmbGluZUVuYWJsZWQgPyBzZXR1cE9mZmxpbmUgOiB1bmRlZmluZWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIC8vIGludGVudGlvbmFsbHkgbm90IHJldHVybmVkIHNvIHRoYXQgcHJvY2Vzc2luZyB0aGUgXCJzdGFydGVkXCIgZXZlbnQgZG9lc24ndCBibG9ja1xuICAgICAgICBmaXJlT3Blbm1yc0V2ZW50KCdzdGFydGVkJyk7XG4gICAgICB9KTtcbiAgfSk7XG59XG4iXSwibmFtZXMiOlsic3RhcnQiLCJ0cmlnZ2VyQXBwQ2hhbmdlIiwiYWN0aXZhdGVPZmZsaW5lQ2FwYWJpbGl0eSIsImNhbkFjY2Vzc1N0b3JhZ2UiLCJkaXNwYXRjaENvbm5lY3Rpdml0eUNoYW5nZWQiLCJkaXNwYXRjaFByZWNhY2hlU3RhdGljRGVwZW5kZW5jaWVzIiwiZmluaXNoUmVnaXN0ZXJpbmdBbGxBcHBzIiwiZmlyZU9wZW5tcnNFdmVudCIsImdldENvbmZpZyIsImdldEN1cnJlbnRVc2VyIiwiaW50ZWdyYXRlQnJlYWtwb2ludHMiLCJpbnRlcnBvbGF0ZVVybCIsImlzT3Blbm1yc0FwcFJvdXRlcyIsImlzT3Blbm1yc1JvdXRlcyIsImxvY2FsU3RvcmFnZVJvdXRlc1ByZWZpeCIsIm1lc3NhZ2VPbXJzU2VydmljZVdvcmtlciIsIm9wZW5tcnNGZXRjaCIsInByb3ZpZGUiLCJyZWdpc3RlckFwcCIsInJlZ2lzdGVyRGVmYXVsdENhbGVuZGFyIiwicmVnaXN0ZXJPbXJzU2VydmljZVdvcmtlciIsInJlbmRlckFjdGlvbmFibGVOb3RpZmljYXRpb25zIiwicmVuZGVySW5saW5lTm90aWZpY2F0aW9ucyIsInJlbmRlckxvYWRpbmdTcGlubmVyIiwicmVuZGVyU25hY2tiYXJzIiwicmVuZGVyVG9hc3RzIiwicmVuZGVyV29ya3NwYWNlV2luZG93c0FuZE1lbnUiLCJyZXN0QmFzZVVybCIsInNldHVwQXBpTW9kdWxlIiwic2V0dXBIaXN0b3J5Iiwic2V0dXBNb2RhbHMiLCJzaG93QWN0aW9uYWJsZU5vdGlmaWNhdGlvbiIsInNob3dOb3RpZmljYXRpb24iLCJzaG93U25hY2tiYXIiLCJzaG93VG9hc3QiLCJzdWJzY3JpYmVBY3Rpb25hYmxlTm90aWZpY2F0aW9uU2hvd24iLCJzdWJzY3JpYmVDb25uZWN0aXZpdHkiLCJzdWJzY3JpYmVOb3RpZmljYXRpb25TaG93biIsInN1YnNjcmliZVByZWNhY2hlU3RhdGljRGVwZW5kZW5jaWVzIiwic3Vic2NyaWJlU25hY2tiYXJTaG93biIsInN1YnNjcmliZVRvYXN0U2hvd24iLCJ0cnlSZWdpc3RlckV4dGVuc2lvbiIsInNldHVwSTE4biIsImFwcE5hbWUiLCJnZXRDb3JlRXh0ZW5zaW9ucyIsInNldHVwQ29yZUNvbmZpZyIsIlJFR0lTVFJBVElPTl9QUk9NSVNFUyIsIlN5bWJvbCIsInNldHVwQXBwcyIsInNjcmlwdFRhZ3MiLCJwcm9taXNlcyIsImkiLCJsb2NhbFN0b3JhZ2UiLCJyb3V0ZXMiLCJtb2R1bGVzIiwicmVnaXN0cmF0aW9uUHJvbWlzZXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsZW5ndGgiLCJwdXNoIiwic2NyaXB0VGFnIiwiZSIsInVuZGVmaW5lZCIsInRleHRDb250ZW50IiwiSlNPTiIsInBhcnNlIiwic3JjIiwiZGF0YSIsImNvbnNvbGUiLCJlcnJvciIsIlByb21pc2UiLCJyZXNvbHZlIiwiaXRlbSIsImtleSIsInN0YXJ0c1dpdGgiLCJsb2NhbE92ZXJyaWRlIiwiZ2V0SXRlbSIsIm1heWJlT3Blbm1yc1JvdXRlcyIsInNsaWNlIiwidGhlbiIsInJlc3BvbnNlIiwicmVqZWN0IiwiY2F0Y2giLCJyZWFzb24iLCJ3YXJuIiwid2luZG93IiwiYWxsU2V0dGxlZCIsImZpbHRlciIsInAiLCJzdGF0dXMiLCJtYXAiLCJ2YWx1ZSIsInJlZHVjZSIsImFjY3VtdWxhdGVkUm91dGVzIiwiT2JqZWN0IiwiZW50cmllcyIsIm1vZHVsZSIsImFsbCIsImluc3RhbGxlZE1vZHVsZXMiLCJsb2FkQ29uZmlncyIsImNvbmZpZ3MiLCJjb25maWciLCJuYW1lIiwiY29ubmVjdGl2aXR5Q2hhbmdlZCIsIm9mZmxpbmVFbmFibGVkIiwib25saW5lIiwibmF2aWdhdG9yIiwib25MaW5lIiwiY3JpdGljYWwiLCJkZXNjcmlwdGlvbiIsInRpdGxlIiwia2luZCIsInJ1blNoZWxsIiwiZXJyIiwicHJlZmVycmVkQ2FsZW5kYXIiLCJlbnRyeSIsImhhbmRsZUluaXRGYWlsdXJlIiwicmVuZGVyRmF0YWxFcnJvclBhZ2UiLCJ0ZW1wbGF0ZSIsInF1ZXJ5U2VsZWN0b3IiLCJmcmFnbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJtZXNzYWdlQ29udGFpbmVyIiwibWVzc2FnZSIsImtleXMiLCJzb21lIiwiayIsImFwcEVycm9yQWN0aW9uQnV0dG9ucyIsImNsZWFyRGV2T3ZlcnJpZGVzQnV0dG9uIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImlubmVySFRNTCIsIm9uY2xpY2siLCJjbGVhckRldk92ZXJyaWRlcyIsImFwcGVuZENoaWxkIiwiYm9keSIsImtleXNUb1JlbW92ZSIsImluY2x1ZGVzIiwiZm9yRWFjaCIsInJlbW92ZUl0ZW0iLCJsb2NhdGlvbiIsInJlbG9hZCIsImNyZWF0ZUNvbmZpZ0xvYWRlciIsImNvbmZpZ1VybHMiLCJsb2FkaW5nQ29uZmlncyIsImNvbmZpZ1VybCIsImludGVycG9sYXRlZFVybCIsImZldGNoIiwicmVzIiwianNvbiIsInNob3dOb3RpZmljYXRpb25zIiwic2hvd0FjdGlvbmFibGVOb3RpZmljYXRpb25zIiwic2hvd1RvYXN0cyIsInNob3dXb3Jrc3BhY2VzQW5kQWN0aW9uTWVudSIsInNob3dTbmFja2JhcnMiLCJzaG93TW9kYWxzIiwic2hvd0xvYWRpbmdTcGlubmVyIiwicmVnaXN0ZXJDb3JlRXh0ZW5zaW9ucyIsImV4dGVuc2lvbnMiLCJleHRlbnNpb24iLCJzZXR1cE9mZmxpbmUiLCJnZXRPcGVubXJzU3BhQmFzZSIsInNldHVwT2ZmbGluZVN0YXRpY0RlcGVuZGVuY3lQcmVjYWNoaW5nIiwicHJlY2FjaGVEZWxheSIsImxhc3RQcmVjYWNoZSIsInN1YnNjcmliZU9ubGluZUFuZExvZ2luQ2hhbmdlIiwiaGFzTG9nZ2VkSW5Vc2VyIiwiaGFzRXhjZWVkZWRQcmVjYWNoZURlbGF5IiwiRGF0ZSIsImdldFRpbWUiLCJjYiIsImlzT25saW5lIiwiaW5jbHVkZUF1dGhTdGF0dXMiLCJzdWJzY3JpYmUiLCJ1c2VyIiwicHJlY2FjaGVHbG9iYWxTdGF0aWNEZXBlbmRlbmNpZXMiLCJzZXNzaW9uUGF0aFVybCIsInByZWNhY2hlSW1wb3J0TWFwIiwiVVJMIiwib3Blbm1yc0Jhc2UiLCJvcmlnaW4iLCJocmVmIiwidHlwZSIsInVybCIsInN0cmF0ZWd5IiwiaW1wb3J0TWFwIiwiaW1wb3J0TWFwT3ZlcnJpZGVzIiwiZ2V0Q3VycmVudFBhZ2VNYXAiLCJyZWdpc3Rlck9mZmxpbmVIYW5kbGVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXR1cE9mZmxpbmVDc3NDbGFzc2VzIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwicnVuIiwiY2xvc2VMb2FkaW5nIiwicHJvdmlkZUNvbmZpZ3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/run.ts\n");

/***/ }),

/***/ "./src/ui/index.ts":
/*!*************************!*\
  !*** ./src/ui/index.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appName: () => (/* binding */ appName),\n/* harmony export */   getCoreExtensions: () => (/* binding */ getCoreExtensions)\n/* harmony export */ });\n/* harmony import */ var _openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openmrs/esm-framework */ \"webpack/sharing/consume/default/@openmrs/esm-framework/@openmrs/esm-framework\");\n/* harmony import */ var _openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__);\n\nvar appName = '@openmrs/esm-app-shell';\nfunction getCoreExtensions() {\n    var options = {\n        featureName: 'app-shell',\n        moduleName: appName\n    };\n    return [\n        {\n            name: 'breadcrumbs-widget',\n            slot: 'breadcrumbs-slot',\n            load: (0,_openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__.getAsyncLifecycle)(function() {\n                return Promise.all(/*! import() */[__webpack_require__.e(\"webpack_sharing_consume_default_react_react\"), __webpack_require__.e(\"webpack_sharing_consume_default_carbon_react_carbon_react\"), __webpack_require__.e(\"src_ui_breadcrumbs_tsx\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./breadcrumbs */ \"./src/ui/breadcrumbs.tsx\"));\n            }, options),\n            online: true,\n            offline: true\n        }\n    ];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyRDtBQUVwRCxJQUFNQyxVQUFVLHlCQUF5QjtBQUV6QyxTQUFTQztJQUNkLElBQU1DLFVBQVU7UUFDZEMsYUFBYTtRQUNiQyxZQUFZSjtJQUNkO0lBRUEsT0FBTztRQUNMO1lBQ0VLLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxNQUFNUix5RUFBaUJBLENBQUM7dUJBQU0sNFVBQXVCO2VBQUVHO1lBQ3ZETSxRQUFRO1lBQ1JDLFNBQVM7UUFDWDtLQUNEO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab3Blbm1ycy9lc20tYXBwLXNoZWxsLy4vc3JjL3VpL2luZGV4LnRzPzliYmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0QXN5bmNMaWZlY3ljbGUgfSBmcm9tICdAb3Blbm1ycy9lc20tZnJhbWV3b3JrJztcblxuZXhwb3J0IGNvbnN0IGFwcE5hbWUgPSAnQG9wZW5tcnMvZXNtLWFwcC1zaGVsbCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3JlRXh0ZW5zaW9ucygpIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBmZWF0dXJlTmFtZTogJ2FwcC1zaGVsbCcsXG4gICAgbW9kdWxlTmFtZTogYXBwTmFtZSxcbiAgfTtcblxuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIG5hbWU6ICdicmVhZGNydW1icy13aWRnZXQnLFxuICAgICAgc2xvdDogJ2JyZWFkY3J1bWJzLXNsb3QnLFxuICAgICAgbG9hZDogZ2V0QXN5bmNMaWZlY3ljbGUoKCkgPT4gaW1wb3J0KCcuL2JyZWFkY3J1bWJzJyksIG9wdGlvbnMpLFxuICAgICAgb25saW5lOiB0cnVlLFxuICAgICAgb2ZmbGluZTogdHJ1ZSxcbiAgICB9LFxuICBdO1xufVxuIl0sIm5hbWVzIjpbImdldEFzeW5jTGlmZWN5Y2xlIiwiYXBwTmFtZSIsImdldENvcmVFeHRlbnNpb25zIiwib3B0aW9ucyIsImZlYXR1cmVOYW1lIiwibW9kdWxlTmFtZSIsIm5hbWUiLCJzbG90IiwibG9hZCIsIm9ubGluZSIsIm9mZmxpbmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/ui/index.ts\n");

/***/ })

}]);