"use strict";(self.webpackChunk_openmrs_esm_app_shell=self.webpackChunk_openmrs_esm_app_shell||[]).push([[5306],{5306:(e,t,n)=>{function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function r(e){if(Array.isArray(e))return e}function a(e,t,n){return t=c(t),y(e,O()?Reflect.construct(t,n||[],c(e).constructor):t.apply(e,n))}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function d(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function f(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){u(e,t,n[t])}))}return e}function v(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function y(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function b(e,t){return r(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||S(e,t)||g()}function k(e){return function(e){if(Array.isArray(e))return o(e)}(e)||f(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function S(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}n.r(t),n.d(t,{changeLanguage:()=>be,createInstance:()=>fe,default:()=>de,dir:()=>ge,exists:()=>Se,getFixedT:()=>ke,hasLoadedNamespace:()=>we,init:()=>he,keyFromSelector:()=>$,loadLanguages:()=>Re,loadNamespaces:()=>Le,loadResources:()=>ve,reloadResources:()=>ye,setDefaultNamespace:()=>Oe,t:()=>xe,use:()=>me});var w=function(e){return"string"==typeof e},L=function(){var e,t,n=new Promise((function(n,o){e=n,t=o}));return n.resolve=e,n.reject=t,n},R=function(e){return null==e?"":""+e},j=/###/g,P=function(e){return e&&e.indexOf("###")>-1?e.replace(j,"."):e},C=function(e){return!e||w(e)},N=function(e,t,n){for(var o=w(t)?t.split("."):t,r=0;r<o.length-1;){if(C(e))return{};var a=P(o[r]);!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{},++r}return C(e)?{}:{obj:e,k:P(o[r])}},E=function(e,t,n){var o=N(e,t,Object),r=o.obj,a=o.k;if(void 0===r&&1!==t.length){for(var i=t[t.length-1],s=t.slice(0,t.length-1),l=N(e,s,Object);void 0===l.obj&&s.length;)i="".concat(s[s.length-1],".").concat(i),s=s.slice(0,s.length-1),(null==(l=N(e,s,Object))?void 0:l.obj)&&void 0!==l.obj["".concat(l.k,".").concat(i)]&&(l.obj=void 0);l.obj["".concat(l.k,".").concat(i)]=n}else r[a]=n},A=function(e,t){var n=N(e,t),o=n.obj,r=n.k;if(o&&Object.prototype.hasOwnProperty.call(o,r))return o[r]},F=function(e,t,n){for(var o in t)"__proto__"!==o&&"constructor"!==o&&(o in e?w(e[o])||d(e[o],String)||w(t[o])||d(t[o],String)?n&&(e[o]=t[o]):F(e[o],t[o],n):e[o]=t[o]);return e},I=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},D=function(e){return w(e)?e.replace(/[&<>"'\/]/g,(function(e){return T[e]})):e},V=[" ",",","?","!",";"],K=new(function(){function e(t){i(this,e),this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}return l(e,[{key:"getRegExp",value:function(e){var t=this.regExpMap.get(e);if(void 0!==t)return t;var n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}]),e}())(20),U=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}for(var o=t.split(n),r=e,a=0;a<o.length;){if(!r||"object"!==(void 0===r?"undefined":x(r)))return;for(var i=void 0,s="",l=a;l<o.length;++l)if(l!==a&&(s+=n),void 0!==(i=r[s+=o[l]])){if(["string","number","boolean"].indexOf(void 0===i?"undefined":x(i))>-1&&l<o.length-1)continue;a+=l-a+1;break}r=i}return r}},M=function(e){return null==e?void 0:e.replace("_","-")},_={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n,o,r;null===(r=console)||void 0===r||null===(o=r[e])||void 0===o||null===(n=o.apply)||void 0===n||n.call(o,console,t)}},B=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.init(t,n)}return l(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||_,this.options=t,this.debug=t.debug}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,o){return o&&!this.debug?null:(w(e[0])&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,h({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}()),H=function(){function e(){i(this,e),this.observers={}}return l(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]||(n.observers[e]=new Map);var o=n.observers[e].get(t)||0;n.observers[e].set(t,o+1)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this.observers[e]&&Array.from(this.observers[e].entries()).forEach((function(e){for(var t=b(e,2),o=t[0],r=t[1],a=0;a<r;a++)o.apply(void 0,k(n))})),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach((function(t){for(var o=b(t,2),r=o[0],a=o[1],i=0;i<a;i++)r.apply(r,[e].concat(k(n)))}))}}]),e}(),z=function(e){function t(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return i(this,t),(n=a(this,t)).data=e||{},n.options=o,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return p(t,e),l(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var o,r,a,i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,u=void 0!==s.ignoreJSONStructure?s.ignoreJSONStructure:this.options.ignoreJSONStructure;if(e.indexOf(".")>-1)a=e.split(".");else if(a=[e,t],n)if(Array.isArray(n))(i=a).push.apply(i,k(n));else if(w(n)&&l){var c;(c=a).push.apply(c,k(n.split(l)))}else a.push(n);var p=A(this.data,a);return!p&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),!p&&u&&w(n)?U(null===(r=this.data)||void 0===r||null===(o=r[e])||void 0===o?void 0:o[t],n,l):p}},{key:"addResource",value:function(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=[e,t];n&&(i=i.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=t,t=(i=e.split("."))[1]),this.addNamespaces(t),E(this.data,i,o),r.silent||this.emit("added",e,t,n,o)}},{key:"addResources",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)(w(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});o.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,o,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},i=[e,t];e.indexOf(".")>-1&&(o=n,n=t,t=(i=e.split("."))[1]),this.addNamespaces(t);var s=A(this.data,i)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),o?F(s,n,r):s=h({},s,n),E(this.data,i,s),a.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),t}(H),J={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,o,r){var a=this;return e.forEach((function(e){var i,s;t=null!==(s=null===(i=a.processors[e])||void 0===i?void 0:i.process(t,n,o,r))&&void 0!==s?s:t})),t}},q=Symbol("i18next/PATH_KEY");function $(e,t){var n,o,r,a;return e((o=[],(r=Object.create(null)).get=function(e,t){var a;return null==n||null===(a=n.revoke)||void 0===a||a.call(n),t===q?o:(o.push(t),(n=Proxy.revocable(e,r)).proxy)},Proxy.revocable(Object.create(null),r).proxy))[q].join(null!==(a=null==t?void 0:t.keySeparator)&&void 0!==a?a:".")}var W={},Y=function(e){return!w(e)&&"boolean"!=typeof e&&"number"!=typeof e},Q=function(e){function t(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,t),function(e,t,n){["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((function(e){t[e]&&(n[e]=t[e])}))}(0,e,n=a(this,t)),n.options=o,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=B.create("translator"),n}return p(t,e),l(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=h({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}});if(null==e)return!1;var n=this.resolve(e,t);return void 0!==(null==n?void 0:n.res)}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,i=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var o=V.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===o.length)return!0;var r=K.getRegExp("(".concat(o.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),a=!r.test(e);if(!a){var i=e.indexOf(n);i>0&&!r.test(e.substring(0,i))&&(a=!0)}return a}(e,n,o));if(a&&!i){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:w(r)?[r]:r};var l=e.split(n);(n!==o||n===o&&this.options.ns.indexOf(l[0])>-1)&&(r=l.shift()),e=l.join(o)}return{key:e,namespaces:w(r)?[r]:r}}},{key:"translate",value:function(e,n,o){var r=this,a="object"===(void 0===n?"undefined":x(n))?h({},n):n;if("object"!==(void 0===a?"undefined":x(a))&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),"object"===(void 0===a?"undefined":x(a))&&(a=h({},a)),a||(a={}),null==e)return"";"function"==typeof e&&(e=$(e,h({},this.options,a))),Array.isArray(e)||(e=[String(e)]);var i=void 0!==a.returnDetails?a.returnDetails:this.options.returnDetails,s=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,l=this.extractFromKey(e[e.length-1],a),u=l.key,c=l.namespaces,p=c[c.length-1],d=void 0!==a.nsSeparator?a.nsSeparator:this.options.nsSeparator;void 0===d&&(d=":");var f=a.lng||this.language,g=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===(null==f?void 0:f.toLowerCase()))return g?i?{res:"".concat(p).concat(d).concat(u),usedKey:u,exactUsedKey:u,usedLng:f,usedNS:p,usedParams:this.getUsedParamsDetails(a)}:"".concat(p).concat(d).concat(u):i?{res:u,usedKey:u,exactUsedKey:u,usedLng:f,usedNS:p,usedParams:this.getUsedParamsDetails(a)}:u;var y=this.resolve(e,a),m=null==y?void 0:y.res,b=(null==y?void 0:y.usedKey)||u,k=(null==y?void 0:y.exactUsedKey)||u,S=void 0!==a.joinArrays?a.joinArrays:this.options.joinArrays,O=!this.i18nFormat||this.i18nFormat.handleAsObject,L=void 0!==a.count&&!w(a.count),R=t.hasDefaultValue(a),j=L?this.pluralResolver.getSuffix(f,a.count,a):"",P=a.ordinal&&L?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",C=L&&!a.ordinal&&0===a.count,N=C&&a["defaultValue".concat(this.options.pluralSeparator,"zero")]||a["defaultValue".concat(j)]||a["defaultValue".concat(P)]||a.defaultValue,E=m;O&&!m&&R&&(E=N);var A=Y(E),F=Object.prototype.toString.apply(E);if(!(O&&E&&A&&["[object Number]","[object Function]","[object RegExp]"].indexOf(F)<0)||w(S)&&Array.isArray(E))if(O&&w(S)&&Array.isArray(m))(m=m.join(S))&&(m=this.extendTranslation(m,e,a,o));else{var I=!1,T=!1;!this.isValidLookup(m)&&R&&(I=!0,m=N),this.isValidLookup(m)||(T=!0,m=u);var D=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&T?void 0:m,V=R&&N!==m&&this.options.updateMissing;if(T||I||V){if(this.logger.log(V?"updateKey":"missingKey",f,p,u,V?N:m),s){var K=this.resolve(u,v(h({},a),{keySeparator:!1}));K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var U=[],M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if("fallback"===this.options.saveMissingTo&&M&&M[0])for(var _=0;_<M.length;_++)U.push(M[_]);else"all"===this.options.saveMissingTo?U=this.languageUtils.toResolveHierarchy(a.lng||this.language):U.push(a.lng||this.language);var B=function(e,t,n){var o,i=R&&n!==m?n:D;r.options.missingKeyHandler?r.options.missingKeyHandler(e,p,t,i,V,a):(null===(o=r.backendConnector)||void 0===o?void 0:o.saveMissing)&&r.backendConnector.saveMissing(e,p,t,i,V,a),r.emit("missingKey",e,p,t,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&L?U.forEach((function(e){var t=r.pluralResolver.getSuffixes(e,a);C&&a["defaultValue".concat(r.options.pluralSeparator,"zero")]&&t.indexOf("".concat(r.options.pluralSeparator,"zero"))<0&&t.push("".concat(r.options.pluralSeparator,"zero")),t.forEach((function(t){B([e],u+t,a["defaultValue".concat(t)]||N)}))})):B(U,u,N))}m=this.extendTranslation(m,e,a,y,o),T&&m===u&&this.options.appendNamespaceToMissingKey&&(m="".concat(p).concat(d).concat(u)),(T||I)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(p).concat(d).concat(u):u,I?m:void 0,a))}else{if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var H=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,E,v(h({},a),{ns:c})):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");return i?(y.res=H,y.usedParams=this.getUsedParamsDetails(a),y):H}if(s){var z=Array.isArray(E),J=z?[]:{},q=z?k:b;for(var W in E)if(Object.prototype.hasOwnProperty.call(E,W)){var Q="".concat(q).concat(s).concat(W);J[W]=R&&!m?this.translate(Q,h(v(h({},a),{defaultValue:Y(N)?N[W]:void 0}),{joinArrays:!1,ns:c})):this.translate(Q,h({},a,{joinArrays:!1,ns:c})),J[W]===Q&&(J[W]=E[W])}m=J}}return i?(y.res=m,y.usedParams=this.getUsedParamsDetails(a),y):m}},{key:"extendTranslation",value:function(e,t,n,o,r){var a;if(null===(a=this.i18nFormat)||void 0===a?void 0:a.parse)e=this.i18nFormat.parse(e,h({},this.options.interpolation.defaultVariables,n),n.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!n.skipInterpolation){var i,s=this;n.interpolation&&this.interpolator.init(h({},n,{interpolation:h({},this.options.interpolation,n.interpolation)}));var l,u=w(e)&&(void 0!==(null==n||null===(i=n.interpolation)||void 0===i?void 0:i.skipOnVariables)?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(u){var c=e.match(this.interpolator.nestingRegexp);l=c&&c.length}var p=n.replace&&!w(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p=h({},this.options.interpolation.defaultVariables,p)),e=this.interpolator.interpolate(e,p,n.lng||this.language||o.usedLng,n),u){var d=e.match(this.interpolator.nestingRegexp);l<(d&&d.length)&&(n.nest=!1)}!n.lng&&o&&o.res&&(n.lng=this.language||o.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(null==r?void 0:r[0])!==o[0]||n.context?s.translate.apply(s,k(o).concat([t])):(s.logger.warn("It seems you are nesting recursively key: ".concat(o[0]," in key: ").concat(t[0])),null)}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,g=w(f)?[f]:f;return null!=e&&(null==g?void 0:g.length)&&!1!==n.applyPostProcessor&&(e=J.handle(g,e,t,this.options&&this.options.postProcessPassResolved?h({i18nResolved:v(h({},o),{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,o,r,a,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w(e)&&(e=[e]),e.forEach((function(e){if(!i.isValidLookup(t)){var l=i.extractFromKey(e,s),u=l.key;n=u;var c=l.namespaces;i.options.fallbackNS&&(c=c.concat(i.options.fallbackNS));var p=void 0!==s.count&&!w(s.count),d=p&&!s.ordinal&&0===s.count,f=void 0!==s.context&&(w(s.context)||"number"==typeof s.context)&&""!==s.context,g=s.lngs?s.lngs:i.languageUtils.toResolveHierarchy(s.lng||i.language,s.fallbackLng);c.forEach((function(e){var l,c;i.isValidLookup(t)||(a=e,W["".concat(g[0],"-").concat(e)]||!(null===(l=i.utils)||void 0===l?void 0:l.hasLoadedNamespace)||(null===(c=i.utils)||void 0===c?void 0:c.hasLoadedNamespace(a))||(W["".concat(g[0],"-").concat(e)]=!0,i.logger.warn('key "'.concat(n,'" for languages "').concat(g.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach((function(n){var a;if(!i.isValidLookup(t)){r=n;var l,c=[u];if(null===(a=i.i18nFormat)||void 0===a?void 0:a.addLookupKeys)i.i18nFormat.addLookupKeys(c,u,n,e,s);else{var g;p&&(g=i.pluralResolver.getSuffix(n,s.count,s));var h="".concat(i.options.pluralSeparator,"zero"),v="".concat(i.options.pluralSeparator,"ordinal").concat(i.options.pluralSeparator);if(p&&(s.ordinal&&0===g.indexOf(v)&&c.push(u+g.replace(v,i.options.pluralSeparator)),c.push(u+g),d&&c.push(u+h)),f){var y="".concat(u).concat(i.options.contextSeparator||"_").concat(s.context);c.push(y),p&&(s.ordinal&&0===g.indexOf(v)&&c.push(y+g.replace(v,i.options.pluralSeparator)),c.push(y+g),d&&c.push(y+h))}}for(;l=c.pop();)i.isValidLookup(t)||(o=l,t=i.getResource(n,e,l,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:o,usedLng:r,usedNS:a}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var o,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(null===(o=this.i18nFormat)||void 0===o?void 0:o.getResource)?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}},{key:"getUsedParamsDetails",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&!w(e.replace),n=t?e.replace:e;if(t&&void 0!==e.count&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n=h({},this.options.interpolation.defaultVariables,n)),!t){n=h({},n);var o=!0,r=!1,a=void 0;try{for(var i,s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"][Symbol.iterator]();!(o=(i=s.next()).done);o=!0)delete n[i.value]}catch(e){r=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw a}}}return n}}],[{key:"hasDefaultValue",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}]),t}(H),G=function(){function e(t){i(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=B.create("languageUtils")}return l(e,[{key:"getScriptPartFromCode",value:function(e){if(!(e=M(e))||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!(e=M(e))||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if(w(e)&&e.indexOf("-")>-1){var t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var o=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(o)||(t=o)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var o=n.getScriptPartFromCode(e);if(n.isSupportedCode(o))return t=o;var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){return e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:e.indexOf("-")>0&&r.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1?e:void 0}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),w(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,o=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),r=[],a=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return w(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):w(e)&&a(this.formatLanguageCode(e)),o.forEach((function(e){r.indexOf(e)<0&&a(n.formatLanguageCode(e))})),r}}]),e}(),X={zero:0,one:1,two:2,few:3,many:4,other:5},Z={select:function(e){return 1===e?"one":"other"},resolvedOptions:function(){return{pluralCategories:["one","other"]}}},ee=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.languageUtils=t,this.options=n,this.logger=B.create("pluralResolver"),this.pluralRulesCache={}}return l(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"clearCache",value:function(){this.pluralRulesCache={}}},{key:"getRule",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=M("dev"===e?"en":e),r=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:o,type:r});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];try{t=new Intl.PluralRules(o,{type:r})}catch(o){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Z;if(!e.match(/-|_/))return Z;var i=this.languageUtils.getLanguagePartFromCode(e);t=this.getRule(i,n)}return this.pluralRulesCache[a]=t,t}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),(null==n?void 0:n.resolvedOptions().pluralCategories.length)>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.getRule(e,n);return o||(o=this.getRule("dev",n)),o?o.resolvedOptions().pluralCategories.sort((function(e,t){return X[e]-X[t]})).map((function(e){return"".concat(t.options.prepend).concat(n.ordinal?"ordinal".concat(t.options.prepend):"").concat(e)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.getRule(e,n);return o?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(o.select(t)):(this.logger.warn("no plural rule found for: ".concat(e)),this.getSuffix("dev",t,n))}}]),e}(),te=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=function(e,t,n){var o=A(e,n);return void 0!==o?o:A(t,n)}(e,t,n);return!a&&r&&w(n)&&void 0===(a=U(e,n,o))&&(a=U(t,n,o)),a},ne=function(e){return e.replace(/\$/g,"$$$$")},oe=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.logger=B.create("interpolator"),this.options=n,this.format=(null==n||null===(t=n.interpolation)||void 0===t?void 0:t.format)||function(e){return e},this.init(n)}return l(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation,n=t.escape,o=t.escapeValue,r=t.useRawValueToEscape,a=t.prefix,i=t.prefixEscaped,s=t.suffix,l=t.suffixEscaped,u=t.formatSeparator,c=t.unescapeSuffix,p=t.unescapePrefix,d=t.nestingPrefix,f=t.nestingPrefixEscaped,g=t.nestingSuffix,h=t.nestingSuffixEscaped,v=t.nestingOptionsSeparator,y=t.maxReplaces,m=t.alwaysFormat;this.escape=void 0!==n?n:D,this.escapeValue=void 0===o||o,this.useRawValueToEscape=void 0!==r&&r,this.prefix=a?I(a):i||"{{",this.suffix=s?I(s):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?I(d):f||I("$t("),this.nestingSuffix=g?I(g):h||I(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=void 0!==m&&m,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e=function(e,t){return(null==e?void 0:e.source)===t?(e.lastIndex=0,e):new RegExp(t,"g")};this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"((?:[^()\"']+|\"[^\"]*\"|'[^']*'|\\((?:[^()]|\"[^\"]*\"|'[^']*')*\\))*?)").concat(this.nestingSuffix))}},{key:"interpolate",value:function(e,t,n,o){var r,a,i,s,l=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=function(e){if(e.indexOf(l.formatSeparator)<0){var r=te(t,u,e,l.options.keySeparator,l.options.ignoreJSONStructure);return l.alwaysFormat?l.format(r,void 0,n,v(h({},o,t),{interpolationkey:e})):r}var a=e.split(l.formatSeparator),i=a.shift().trim(),s=a.join(l.formatSeparator).trim();return l.format(te(t,u,i,l.options.keySeparator,l.options.ignoreJSONStructure),s,n,v(h({},o,t),{interpolationkey:i}))};this.resetRegExp();var p=(null==o?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=void 0!==(null==o||null===(r=o.interpolation)||void 0===r?void 0:r.skipOnVariables)?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return ne(e)}},{regex:this.regexp,safeValue:function(e){return l.escapeValue?ne(l.escape(e)):ne(e)}}].forEach((function(t){for(s=0;a=t.regex.exec(e);){var n=a[1].trim();if(void 0===(i=c(n)))if("function"==typeof p){var r=p(e,a,o);i=w(r)?r:""}else if(o&&Object.prototype.hasOwnProperty.call(o,n))i="";else{if(d){i=a[0];continue}l.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),i=""}else w(i)||l.useRawValueToEscape||(i=R(i));var u=t.safeValue(i);if(e=e.replace(a[0],u),d?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,++s>=l.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){for(var n,o,r,a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=function(e,t){var n=a.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var o=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(o[1]);e=o[0];var s,l=(i=a.interpolate(i,r)).match(/'/g),u=i.match(/"/g);((null!==(s=null==l?void 0:l.length)&&void 0!==s?s:0)%2==0&&!u||u.length%2!=0)&&(i=i.replace(/'/g,'"'));try{r=JSON.parse(i),t&&(r=h({},t,r))}catch(t){return a.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(i)}return r.defaultValue&&r.defaultValue.indexOf(a.prefix)>-1&&delete r.defaultValue,e};n=this.nestingRegexp.exec(e);){var l=[];(r=(r=h({},i)).replace&&!w(r.replace)?r.replace:r).applyPostProcessor=!1,delete r.defaultValue;var u=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(-1!==u&&(l=n[1].slice(u).split(this.formatSeparator).map((function(e){return e.trim()})).filter(Boolean),n[1]=n[1].slice(0,u)),(o=t(s.call(this,n[1].trim(),r),r))&&n[0]===e&&!w(o))return o;w(o)||(o=R(o)),o||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),o=""),l.length&&(o=l.reduce((function(e,t){return a.format(e,t,i.lng,v(h({},i),{interpolationkey:n[1].trim()}))}),o.trim())),e=e.replace(n[0],o),this.regexp.lastIndex=0}return e}}]),e}(),re=function(e){var t={};return function(n,o,r){var a=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(a=v(h({},a),u({},r.interpolationkey,void 0)));var i=o+JSON.stringify(a),s=t[i];return s||(s=e(M(o),r),t[i]=s),s(n)}},ae=function(e){return function(t,n,o){return e(M(n),o)(t)}},ie=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.logger=B.create("formatter"),this.options=t,this.init(t)}return l(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||",";var n=t.cacheInBuiltFormats?re:ae;this.formats={number:n((function(e,t){var n=new Intl.NumberFormat(e,h({},t));return function(e){return n.format(e)}})),currency:n((function(e,t){var n=new Intl.NumberFormat(e,v(h({},t),{style:"currency"}));return function(e){return n.format(e)}})),datetime:n((function(e,t){var n=new Intl.DateTimeFormat(e,h({},t));return function(e){return n.format(e)}})),relativetime:n((function(e,t){var n=new Intl.RelativeTimeFormat(e,h({},t));return function(e){return n.format(e,t.range||"day")}})),list:n((function(e,t){var n=new Intl.ListFormat(e,h({},t));return function(e){return n.format(e)}}))}}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=re(t)}},{key:"format",value:function(e,t,n){var o=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find((function(e){return e.indexOf(")")>-1}))){var s=i.findIndex((function(e){return e.indexOf(")")>-1}));i[0]=[i[0]].concat(k(i.splice(1,s))).join(this.formatSeparator)}return i.reduce((function(e,t){var i=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var o=e.split("(");t=o[0].toLowerCase().trim();var a=o[1].substring(0,o[1].length-1);"currency"===t&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):"relativetime"===t&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach((function(e){if(e){var t=r(s=e.split(":"))||f(s)||S(s)||g(),o=t[0],a=t.slice(1).join(":").trim().replace(/^'+|'+$/g,""),i=o.trim();n[i]||(n[i]=a),"false"===a&&(n[i]=!1),"true"===a&&(n[i]=!0),isNaN(a)||(n[i]=parseInt(a,10))}var s}))}return{formatName:t,formatOptions:n}}(t),s=i.formatName,l=i.formatOptions;if(o.formats[s]){var u=e;try{var c,p=(null==a||null===(c=a.formatParams)||void 0===c?void 0:c[a.interpolationkey])||{},d=p.locale||p.lng||a.locale||a.lng||n;u=o.formats[s](e,d,h({},l,a,p))}catch(e){o.logger.warn(e)}return u}return o.logger.warn("there was no format function for ".concat(s)),e}),e)}}]),e}(),se=function(e){function t(e,n,o){var r,s,l,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i(this,t),(r=a(this,t)).backend=e,r.store=n,r.services=o,r.languageUtils=o.languageUtils,r.options=u,r.logger=B.create("backendConnector"),r.waitingReads=[],r.maxParallelReads=u.maxParallelReads||10,r.readingCalls=0,r.maxRetries=u.maxRetries>=0?u.maxRetries:5,r.retryTimeout=u.retryTimeout>=1?u.retryTimeout:350,r.state={},r.queue=[],null===(l=r.backend)||void 0===l||null===(s=l.init)||void 0===s||s.call(l,o,u.backend,u),r}return p(t,e),l(t,[{key:"queueLoad",value:function(e,t,n,o){var r=this,a={},i={},s={},l={};return e.forEach((function(e){var o=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?void 0===i[s]&&(i[s]=!0):(r.state[s]=1,o=!1,void 0===i[s]&&(i[s]=!0),void 0===a[s]&&(a[s]=!0),void 0===l[t]&&(l[t]=!0)))})),o||(s[e]=!0)})),(Object.keys(a).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(a),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var o=e.split("|"),r=o[0],a=o[1];t&&this.emit("failedLoading",r,a,t),!t&&n&&this.store.addResourceBundle(r,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);var i={};this.queue.forEach((function(n){var o,s,l,u,c;o=n.loaded,s=a,(u=(l=N(o,[r],Object)).obj)[c=l.k]=u[c]||[],u[c].push(s),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){i[e]||(i[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===i[e][t]&&(i[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",i),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:a,callback:i});else{this.readingCalls++;var s=function(s,l){if(o.readingCalls--,o.waitingReads.length>0){var u=o.waitingReads.shift();o.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}s&&l&&r<o.maxRetries?setTimeout((function(){o.read.call(o,e,t,n,r+1,2*a,i)}),a):i(s,l)},l=this.backend[n].bind(this.backend);if(2!==l.length)return l(e,t,s);try{var u=l(e,t);u&&"function"==typeof u.then?u.then((function(e){return s(null,e)})).catch(s):s(null,u)}catch(e){s(e)}}}},{key:"prepareLoading",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();w(e)&&(e=this.languageUtils.toResolveHierarchy(e)),w(t)&&(t=[t]);var a=this.queueLoad(e,t,o,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=e.split("|"),r=o[0],a=o[1];this.read(r,a,"read",void 0,void 0,(function(o,i){o&&t.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(r," failed"),o),!o&&i&&t.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(r),i),t.loaded(e,o,i)}))}},{key:"saveMissing",value:function(e,t,n,o,r){var a,i,s,l,u,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(!(null===(i=this.services)||void 0===i||null===(a=i.utils)||void 0===a?void 0:a.hasLoadedNamespace)||(null===(l=this.services)||void 0===l||null===(s=l.utils)||void 0===s?void 0:s.hasLoadedNamespace(t))){if(null!=n&&""!==n){if(null===(u=this.backend)||void 0===u?void 0:u.create){var d=v(h({},c),{isUpdate:r}),f=this.backend.create.bind(this.backend);if(f.length<6)try{var g;(g=5===f.length?f(e,t,n,o,d):f(e,t,n,o))&&"function"==typeof g.then?g.then((function(e){return p(null,e)})).catch(p):p(null,g)}catch(e){p(e)}else f(e,t,n,o,p,d)}e&&e[0]&&this.store.addResource(e[0],t,n,o)}}else this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}]),t}(H),le=function(){return{debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===x(e[1])&&(t=e[1]),w(e[1])&&(t.defaultValue=e[1]),w(e[2])&&(t.tDescription=e[2]),"object"===x(e[2])||"object"===x(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}},ue=function(e){var t,n;return w(e.ns)&&(e.ns=[e.ns]),w(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),w(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),(null===(n=e.supportedLngs)||void 0===n||null===(t=n.indexOf)||void 0===t?void 0:t.call(n,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e},ce=function(){},pe=function(e){function t(){var e,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(i(this,t),(e=a(this,t)).options=ue(o),e.services={},e.logger=B,e.modules={external:[]},n=e,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((function(e){"function"==typeof n[e]&&(n[e]=n[e].bind(n))})),r&&!e.isInitialized&&!o.isClone){if(!e.options.initAsync)return e.init(o,r),y(e,e);setTimeout((function(){e.init(o,r)}),0)}return e}return p(t,e),l(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),null==t.defaultNS&&t.ns&&(w(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var o=le();this.options=h({},o,this.options,ue(t)),this.options.interpolation=h({},o.interpolation,this.options.interpolation),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);var r=function(e){return e?"function"==typeof e?new e:e:null};if(!this.options.isClone){var a,i=this;this.modules.logger?B.init(r(this.modules.logger),this.options):B.init(null,this.options),a=this.modules.formatter?this.modules.formatter:ie;var s=new G(this.options);this.store=new z(this.options.resources,this.options);var l=this.services;l.logger=B,l.resourceStore=this.store,l.languageUtils=s,l.pluralResolver=new ee(s,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!a||this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format||(l.formatter=r(a),l.formatter.init&&l.formatter.init(l,this.options),this.options.interpolation.format=l.formatter.format.bind(l.formatter)),l.interpolator=new oe(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new se(r(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];i.emit.apply(i,[e].concat(k(n)))})),this.modules.languageDetector&&(l.languageDetector=r(this.modules.languageDetector),l.languageDetector.init&&l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=r(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new Q(this.services,this.options),this.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];i.emit.apply(i,[e].concat(k(n)))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=ce),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&"dev"!==u[0]&&(this.options.lng=u[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){var n,o=e;e[t]=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(n=o.store)[t].apply(n,k(r))}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){var n=e;e[t]=function(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];var a;return(a=n.store)[t].apply(a,k(o)),n}}));var c=L(),p=function(){var t=function(t,o){e.isInitializing=!1,e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(o),n(t,o)};if(e.languages&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),c}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ce,o=w(e)?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){var r,a;if("cimode"===(null==o?void 0:o.toLowerCase())&&(!this.options.preload||0===this.options.preload.length))return n();var i=[],s=function(e){e&&"cimode"!==e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){"cimode"!==e&&i.indexOf(e)<0&&i.push(e)}))};o?s(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return s(e)})),null===(a=this.options.preload)||void 0===a||null===(r=a.forEach)||void 0===r||r.call(a,(function(e){return s(e)})),this.services.backendConnector.load(i,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var o=L();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=ce),this.services.backendConnector.reload(e,t,(function(e){o.resolve(),n(e)})),o}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&J.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var o=L();this.emit("languageChanging",e);var r=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},a=function(a){e||a||!n.services.languageDetector||(a=[]);var i,s,l=w(a)?a:a&&a[0],u=n.store.hasLanguageSomeTranslations(l)?l:n.services.languageUtils.getBestMatchFromCodes(w(a)?[a]:a);u&&(n.language||r(u),n.translator.language||n.translator.changeLanguage(u),null===(s=n.services.languageDetector)||void 0===s||null===(i=s.cacheUserLanguage)||void 0===i||i.call(s,u)),n.loadResources(u,(function(a){!function(a,i){var s=n;i?n.isLanguageChangingTo===e&&(r(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,o.resolve((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.t.apply(s,k(t))})),t&&t(a,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.t.apply(s,k(t))}))}(a,u)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),o}},{key:"getFixedT",value:function(e,t,n){var o=this,r=function(e,t){for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s];var l;(l="object"!==(void 0===t?"undefined":x(t))?o.options.overloadTranslationOptionHandler([e,t].concat(i)):h({},t)).lng=l.lng||r.lng,l.lngs=l.lngs||r.lngs,l.ns=l.ns||r.ns,""!==l.keyPrefix&&(l.keyPrefix=l.keyPrefix||n||r.keyPrefix);var u,c=o.options.keySeparator||".";return l.keyPrefix&&Array.isArray(e)?u=e.map((function(e){return"function"==typeof e&&(e=$(e,h({},o.options,t))),"".concat(l.keyPrefix).concat(c).concat(e)})):("function"==typeof e&&(e=$(e,h({},o.options,t))),u=l.keyPrefix?"".concat(l.keyPrefix).concat(c).concat(e):e),o.t(u,l)};return w(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}},{key:"t",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o,r;return null===(r=this.translator)||void 0===r?void 0:(o=r).translate.apply(o,k(t))}},{key:"exists",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o,r;return null===(r=this.translator)||void 0===r?void 0:(o=r).exists.apply(o,k(t))}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=n.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===o.toLowerCase())return!0;var i=function(e,n){var o=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===o||0===o||2===o};if(n.precheck){var s=n.precheck(this,i);if(void 0!==s)return s}return!(!this.hasResourceBundle(o,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!i(o,e)||r&&!i(a,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,o=L();return this.options.ns?(w(e)&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){o.resolve(),t&&t(e)})),o):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=this,o=L();w(e)&&(e=[e]);var r=this.options.preload||[],a=e.filter((function(e){return r.indexOf(e)<0&&n.services.languageUtils.isSupportedCode(e)}));return a.length?(this.options.preload=r.concat(a),this.loadResources((function(e){o.resolve(),t&&t(e)})),o):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){var t,n;if(e||(e=this.resolvedLanguage||((null===(t=this.languages)||void 0===t?void 0:t.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{var o=new Intl.Locale(e);if(o&&o.getTextInfo){var r=o.getTextInfo();if(r&&r.direction)return r.direction}}catch(e){}var a=(null===(n=this.services)||void 0===n?void 0:n.languageUtils)||new G(le());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(a.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ce,r=n.forkResourceStore;r&&delete n.forkResourceStore;var a=h({},this.options,n,{isClone:!0}),i=new t(a);if(void 0===n.debug&&void 0===n.prefix||(i.logger=i.logger.clone(n)),["store","services","language"].forEach((function(t){i[t]=e[t]})),i.services=h({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){var s=Object.keys(this.store.data).reduce((function(t,n){return t[n]=h({},e.store.data[n]),t[n]=Object.keys(t[n]).reduce((function(e,o){return e[o]=h({},t[n][o]),e}),t[n]),t}),{});i.store=new z(s,a),i.services.resourceStore=i.store}return i.translator=new Q(i.services,a),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r;(r=i).emit.apply(r,[e].concat(k(n)))})),i.init(a,o),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}],[{key:"createInstance",value:function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}}]),t}(H),de=pe.createInstance();de.createInstance=pe.createInstance;var fe=de.createInstance,ge=de.dir,he=de.init,ve=de.loadResources,ye=de.reloadResources,me=de.use,be=de.changeLanguage,ke=de.getFixedT,xe=de.t,Se=de.exists,Oe=de.setDefaultNamespace,we=de.hasLoadedNamespace,Le=de.loadNamespaces,Re=de.loadLanguages}}]);